[{"filePath":"C:\\Users\\kochi\\github\\Maplat\\demo\\dev.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":8,"column":1,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":8,"endColumn":14,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[257,270],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":10,"column":1,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":10,"endColumn":14,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[307,320],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1151,1154],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1151,1154],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":40,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1329,1332],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1329,1332],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1419,1422],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1419,1422],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { MaplatUi } from '../src/index';\r\nimport { MaplatAppOption } from '../src/types';\r\n// Import styles - Vite will process these automatically\r\nimport '../less/maplat-specific.less';\r\nimport '../less/contextmenu.css';\r\nimport '../less/swiper4.css';\r\n\r\n// @ts-ignore\r\nconst mapboxgl = window.mapboxgl;\r\n// @ts-ignore\r\nconst maplibregl = window.maplibregl;\r\n\r\nconst option: MaplatAppOption = {\r\n    enableCache: true,\r\n    restoreSession: true,\r\n    stateUrl: true,\r\n    markerList: true,\r\n    enableShare: true,\r\n    enableHideMarker: true,\r\n    enableMarkerList: true,\r\n    enableBorder: true,\r\n    presentationMode: true,\r\n    pwaManifest: true,\r\n    northTop: true,\r\n    mapboxgl,\r\n    maplibregl,\r\n    mapboxToken: \"pk.eyJ1IjoicmVraXNoaWtva3VkbyIsImEiOiJjazRoMmF3dncwODU2M2ttdzI2aDVqYXVwIn0.8Hb9sekgjfck6Setxk5uVg\",\r\n    googleApiKey: \"AIzaSyB0v_F9EVPbE7R2uOm6Mixrtzts21DEICc\",\r\n    lang: 'ja'\r\n};\r\n\r\nconst hashes = (window.location.href.split('#!'))[0];\r\nconst hashesArr = hashes.slice(window.location.href.indexOf('?') + 1).split('&');\r\nfor (let i = 0; i < hashesArr.length; i++) {\r\n    const hash = hashesArr[i].split('=');\r\n    (option as any)[hash[0]] = hash[1] == 'true' ? true : hash[1] == 'false' ? false : hash[1];\r\n}\r\n\r\nMaplatUi.createObject(option).then(app => {\r\n    app.addEventListener('clickMarker', (evt: any) => {\r\n        console.log(evt);\r\n    });\r\n    app.addEventListener('clickMap', (evt: any) => {\r\n        console.log(evt);\r\n    });\r\n    app.core!.waitReady.then(() => {\r\n        app.core!.addLine({\r\n            lnglats: [[141.151995, 39.701599], [141.151137, 39.703736], [141.1521671, 39.7090232]],\r\n            stroke: {\r\n                color: '#ffcc33',\r\n                width: 2\r\n            }\r\n        });\r\n    });\r\n});\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\absolute_url.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[42,45],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[42,45],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[57,60],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[57,60],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export default function absoluteUrl(base: any, relative: any) {\r\n  const stack = base.split(\"/\");\r\n  const parts = relative.split(\"/\");\r\n  stack.pop(); // remove current file name (or empty string)\r\n  // (omit if \"base\" is the current folder without trailing slash)\r\n  for (let i = 0; i < parts.length; i++) {\r\n    if (parts[i] == \".\") continue;\r\n    if (parts[i] == \"..\") stack.pop();\r\n    else stack.push(parts[i]);\r\n  }\r\n  return stack.join(\"/\");\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\contextmenu.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[136,139],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[136,139],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[192,195],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[192,195],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[229,232],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[229,232],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[241,244],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[241,244],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-this-alias","severity":2,"message":"Unexpected aliasing of 'this' to local variable.","line":7,"column":13,"nodeType":"Identifier","messageId":"thisAssignment","endLine":7,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[428,431],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[428,431],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[562,565],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[562,565],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import ContextMenuBase from \"./contextmenu/base\";\r\n\r\nexport default class ContextMenu extends ContextMenuBase {\r\n  constructor(options: any = {}) {\r\n    super(options);\r\n    (this.Internal as any).setItemListener = function (li: any, index: any) {\r\n      const this_ = this;\r\n      if (li && typeof this.items[index].callback === \"function\") {\r\n        (function (callback) {\r\n          li.addEventListener(\"pointerdown\", (evt: any) => {\r\n            evt.stopPropagation();\r\n          });\r\n          li.addEventListener(\r\n            \"click\",\r\n            (evt: any) => {\r\n              evt.preventDefault();\r\n              const obj = {\r\n                coordinate: this_.getCoordinateClicked(),\r\n                data: this_.items[index].data || null\r\n              };\r\n              if (!callback(obj, this_.map)) this_.closeMenu();\r\n            },\r\n            false\r\n          );\r\n        })(this.items[index].callback);\r\n      }\r\n    };\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\contextmenu\\base.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":2,"message":"Expected an assignment or function call and instead saw an expression.","line":20,"column":3,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":20,"endColumn":43},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":156,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":156,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3718,3721],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3718,3721],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* Fork from ol-comtextmenu 4.1.0\r\n * https://github.com/jonataswalker/ol-contextmenu/tree/4.1.0\r\n * (c) Jonatas Walker\r\n * @license MIT\r\n **/\r\n\r\nimport { CSS_VARS, DEFAULT_OPTIONS, DEFAULT_ITEMS } from './constants';\r\nimport Control from 'ol/control/Control';\r\nimport { Internal } from './internal';\r\nimport { Html } from './html';\r\nimport { assert, mergeOptions } from './helpers/mix';\r\nimport { ContextMenuOptions, ContextMenuItem } from '../types';\r\n//import './sass/main.scss';\r\n\r\nexport const createContainer = (hidden: boolean, width: number) => {\r\n  const container = document.createElement('div');\r\n  const ul = document.createElement('ul');\r\n  const klasses = [CSS_VARS.container, CSS_VARS.unselectable];\r\n\r\n  hidden && klasses.push(CSS_VARS.hidden);\r\n  container.className = klasses.join(' ');\r\n  container.style.width = `${parseInt(String(width), 10)}px`;\r\n  container.appendChild(ul);\r\n  return container;\r\n}\r\n\r\n/**\r\n * @class Base\r\n * @extends {ol.control.Control}\r\n */\r\nexport default class Base extends Control {\r\n  options: ContextMenuOptions;\r\n  container: HTMLElement;\r\n  disabled: boolean;\r\n  Internal: Internal;\r\n  Html: Html;\r\n\r\n  /**\r\n   * @constructor\r\n   * @param {object|undefined} opt_options Options.\r\n   */\r\n  constructor(opt_options: ContextMenuOptions = {}) {\r\n    assert(\r\n      typeof opt_options == 'object',\r\n      '@param `opt_options` should be object type!'\r\n    );\r\n\r\n    const options = mergeOptions(DEFAULT_OPTIONS, opt_options);\r\n    const container = createContainer(true, options.width!);\r\n    super({ element: container });\r\n\r\n    this.options = options;\r\n    this.container = container;\r\n    this.disabled = false;\r\n    this.Internal = new Internal(this);\r\n    this.Html = new Html(this);\r\n  }\r\n\r\n  /**\r\n   * Remove all elements from the menu.\r\n   */\r\n  clear() {\r\n    Object.keys(this.Internal.items).forEach(\r\n      this.Html.removeMenuEntry,\r\n      this.Html\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Close the menu programmatically.\r\n   */\r\n  close() {\r\n    this.Internal.closeMenu();\r\n  }\r\n\r\n  /**\r\n   * Enable menu\r\n   */\r\n  enable() {\r\n    this.disabled = false;\r\n  }\r\n\r\n  /**\r\n   * Disable menu\r\n   */\r\n  disable() {\r\n    this.disabled = true;\r\n  }\r\n\r\n  /**\r\n   * @return {Array} Returns default items\r\n   */\r\n  getDefaultItems() {\r\n    return DEFAULT_ITEMS;\r\n  }\r\n\r\n  /**\r\n   * @return {Number} Returns how many items\r\n   */\r\n  countItems() {\r\n    return Object.keys(this.Internal.items).length;\r\n  }\r\n\r\n  /**\r\n   * Add items to the menu. This pushes each item in the provided array\r\n   * to the end of the menu.\r\n   * @param {Array} arr Array.\r\n   */\r\n  extend(arr: ContextMenuItem[]) {\r\n    assert(Array.isArray(arr), '@param `arr` should be an Array.');\r\n    arr.forEach(this.push, this);\r\n  }\r\n\r\n  isOpen() {\r\n    return this.Internal.opened;\r\n  }\r\n\r\n  /**\r\n   * Update the menu's position.\r\n   */\r\n  updatePosition(pixel: number[]) {\r\n    assert(Array.isArray(pixel), '@param `pixel` should be an Array.');\r\n\r\n    if (this.isOpen()) {\r\n      this.Internal.positionContainer(pixel);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove the last item of the menu.\r\n   */\r\n  pop() {\r\n    const keys = Object.keys(this.Internal.items);\r\n    this.Html.removeMenuEntry(keys[keys.length - 1]);\r\n  }\r\n\r\n  /**\r\n   * Insert the provided item at the end of the menu.\r\n   * @param {Object|String} item Item.\r\n   */\r\n  push(item: ContextMenuItem | string) {\r\n    // assert(isDefAndNotNull(item), '@param `item` must be informed.');\r\n    this.Html.addMenuEntry(item as ContextMenuItem);\r\n  }\r\n\r\n  /**\r\n   * Remove the first item of the menu.\r\n   */\r\n  shift() {\r\n    this.Html.removeMenuEntry(Object.keys(this.Internal.items)[0]);\r\n  }\r\n\r\n  /**\r\n   * Not supposed to be used on app.\r\n   */\r\n  setMap(map: any) {\r\n    Control.prototype.setMap.call(this, map);\r\n\r\n    if (map) {\r\n      // let's start since now we have the map\r\n      this.Internal.init(map);\r\n    } else {\r\n      // I'm removed from the map - remove listeners\r\n      this.Internal.removeListeners();\r\n    }\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\contextmenu\\constants.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[830,833],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[830,833],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[840,843],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[840,843],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":55,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1128,1131],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1128,1131],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":55,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1138,1141],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1138,1141],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import cssVars from './cssVars';\r\n\r\nexport const CSS_VARS = cssVars;\r\n\r\nexport const EVENT_TYPE = {\r\n  /**\r\n   * Triggered before context menu is open.\r\n   */\r\n  BEFOREOPEN: 'beforeopen',\r\n  /**\r\n   * Triggered when context menu is open.\r\n   */\r\n  OPEN: 'open',\r\n  /**\r\n   * Triggered when context menu is closed.\r\n   */\r\n  CLOSE: 'close',\r\n  /**\r\n   * Internal. Triggered when a menu entry is added.\r\n   */\r\n  ADD_MENU_ENTRY: 'add-menu-entry',\r\n  /**\r\n   * Internal.\r\n   */\r\n  CONTEXTMENU: 'contextmenu',\r\n  /**\r\n   * Internal.\r\n   */\r\n  HOVER: 'mouseover',\r\n};\r\n\r\nexport const DEFAULT_OPTIONS = {\r\n  width: 150,\r\n  scrollAt: 4,\r\n  eventType: EVENT_TYPE.CONTEXTMENU,\r\n  defaultItems: true,\r\n};\r\n\r\nexport const DEFAULT_ITEMS = [\r\n  {\r\n    text: 'Zoom In',\r\n    classname: `${cssVars.zoomIn} ${cssVars.icon}`,\r\n    callback: (obj: any, map: any) => {\r\n      const view = map.getView();\r\n      view.animate({\r\n        zoom: +view.getZoom() + 1,\r\n        duration: 700,\r\n        center: obj.coordinate,\r\n      });\r\n    },\r\n  },\r\n  {\r\n    text: 'Zoom Out',\r\n    classname: `${cssVars.zoomOut} ${cssVars.icon}`,\r\n    callback: (obj: any, map: any) => {\r\n      const view = map.getView();\r\n      view.animate({\r\n        zoom: +view.getZoom() - 1,\r\n        duration: 700,\r\n        center: obj.coordinate,\r\n      });\r\n    },\r\n  },\r\n];\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\contextmenu\\cssVars.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\contextmenu\\helpers\\dom.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":2,"message":"Expected an assignment or function call and instead saw an expression.","line":73,"column":5,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":75,"endColumn":45},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":99,"column":9,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":99,"endColumn":42,"suggestions":[{"messageId":"addBrackets","fix":{"range":[3193,3277],"text":"{ const el = $(selector.substr(1));\r\n        matches = el ? [el] : [];\r\n        break; }"},"desc":"Add {} brackets around the case block."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":126,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3954,3957],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3954,3957],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":169,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":169,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5231,5234],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5231,5234],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":176,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":176,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5402,5405],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5402,5405],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { isNumeric } from './mix';\r\n\r\n/**\r\n * @param {Element|Array<Element>} element DOM node or array of nodes.\r\n * @param {String|Array<String>} classname Class or array of classes.\r\n * For example: 'class1 class2' or ['class1', 'class2']\r\n * @param {Number|undefined} timeout Timeout to remove a class.\r\n */\r\nexport function addClass(element: HTMLElement | HTMLElement[], classname: string | string[], timeout: number | null = null) {\r\n  if (Array.isArray(element)) {\r\n    element.forEach(each => addClass(each, classname, null));\r\n    return;\r\n  }\r\n\r\n  const array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\r\n  let i = array.length;\r\n\r\n  while (i--) {\r\n    if (!hasClass(element, array[i])) {\r\n      _addClass(element, array[i], timeout);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param {Element|Array<Element>} element DOM node or array of nodes.\r\n * @param {String|Array<String>} classname Class or array of classes.\r\n * For example: 'class1 class2' or ['class1', 'class2']\r\n * @param {Number|undefined} timeout Timeout to add a class.\r\n */\r\nexport function removeClass(element: HTMLElement | HTMLElement[], classname: string | string[], timeout: number | null = null) {\r\n  if (Array.isArray(element)) {\r\n    element.forEach(each => removeClass(each, classname, timeout));\r\n    return;\r\n  }\r\n\r\n  const array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\r\n  let i = array.length;\r\n\r\n  while (i--) {\r\n    if (hasClass(element, array[i])) {\r\n      _removeClass(element, array[i], timeout);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param {Element} element DOM node.\r\n * @param {String} classname Classname.\r\n * @return {Boolean}\r\n */\r\nexport function hasClass(element: HTMLElement, c: string) {\r\n  // use native if available\r\n  return element.classList\r\n    ? element.classList.contains(c)\r\n    : classRegex(c).test(element.className);\r\n}\r\n\r\n/**\r\n * @param {Element|Array<Element>} element DOM node or array of nodes.\r\n * @param {String} classname Classe.\r\n */\r\nexport function toggleClass(element: HTMLElement | HTMLElement[], classname: string) {\r\n  if (Array.isArray(element)) {\r\n    element.forEach(each => toggleClass(each, classname));\r\n    return;\r\n  }\r\n\r\n  // use native if available\r\n  if (element.classList) {\r\n    element.classList.toggle(classname);\r\n  } else {\r\n    hasClass(element, classname)\r\n      ? _removeClass(element, classname, null)\r\n      : _addClass(element, classname, null);\r\n  }\r\n}\r\n\r\n/**\r\n * Abstraction to querySelectorAll for increased\r\n * performance and greater usability\r\n * @param {String} selector\r\n * @param {Element} context (optional)\r\n * @param {Boolean} find_all (optional)\r\n * @return (find_all) {Element} : {Array}\r\n */\r\nexport function find(selector: string, context: Element | Document = window.document, find_all: boolean = false): HTMLElement | HTMLElement[] | undefined {\r\n  const simpleRe = /^(#?[\\w-]+|\\.[\\w-.]+)$/,\r\n    periodRe = /\\./g,\r\n    slice = Array.prototype.slice;\r\n  let matches: HTMLElement[] = [];\r\n\r\n  // Redirect call to the more performant function\r\n  // if it's a simple selector and return an array\r\n  // for easier usage\r\n  if (simpleRe.test(selector)) {\r\n    switch (selector[0]) {\r\n      case '#':\r\n        const el = $(selector.substr(1));\r\n        matches = el ? [el] : [];\r\n        break;\r\n      case '.':\r\n        matches = slice.call(\r\n          context.getElementsByClassName(\r\n            selector.substr(1).replace(periodRe, ' ')\r\n          )\r\n        );\r\n        break;\r\n      default:\r\n        matches = slice.call(context.getElementsByTagName(selector));\r\n    }\r\n  } else {\r\n    // If not a simple selector, query the DOM as usual\r\n    // and return an array for easier usage\r\n    matches = slice.call(context.querySelectorAll(selector));\r\n  }\r\n\r\n  return find_all ? matches : matches[0];\r\n}\r\n\r\nexport function $(id: string) {\r\n  id = id[0] === '#' ? id.substr(1, id.length) : id;\r\n  return document.getElementById(id);\r\n}\r\n\r\nexport function isElement(obj: any) {\r\n  // DOM, Level2\r\n  if ('HTMLElement' in window) {\r\n    return !!obj && obj instanceof HTMLElement;\r\n  }\r\n  // Older browsers\r\n  return (\r\n    !!obj && typeof obj === 'object' && obj.nodeType === 1 && !!obj.nodeName\r\n  );\r\n}\r\n\r\nexport function offset(element: HTMLElement) {\r\n  const rect = element.getBoundingClientRect();\r\n  const docEl = document.documentElement;\r\n  return {\r\n    left: rect.left + window.pageXOffset - docEl.clientLeft,\r\n    top: rect.top + window.pageYOffset - docEl.clientTop,\r\n    width: element.offsetWidth,\r\n    height: element.offsetHeight,\r\n  };\r\n}\r\n\r\nexport function getViewportSize() {\r\n  return {\r\n    w: window.innerWidth || document.documentElement.clientWidth,\r\n    h: window.innerHeight || document.documentElement.clientHeight,\r\n  };\r\n}\r\n\r\nexport function getAllChildren(node: Element, tag: string) {\r\n  return [].slice.call(node.getElementsByTagName(tag));\r\n}\r\n\r\nexport function removeAllChildren(node: Node) {\r\n  while (node.firstChild) node.removeChild(node.firstChild);\r\n}\r\n\r\nexport function removeAll(collection: HTMLElement[]) {\r\n  let node;\r\n  while ((node = collection[0])) node.parentNode!.removeChild(node);\r\n}\r\n\r\nexport function getChildren(node: Node, tag: string | null) {\r\n  return [].filter.call(node.childNodes, (el: any) =>\r\n    tag\r\n      ? el.nodeType === 1 && el.tagName.toLowerCase() === tag\r\n      : el.nodeType === 1\r\n  );\r\n}\r\n\r\nexport function createFragment(html: string, _row?: any) {\r\n  const frag = document.createDocumentFragment(),\r\n    temp = document.createElement('div');\r\n  temp.innerHTML = html;\r\n  while (temp.firstChild) {\r\n    frag.appendChild(temp.firstChild);\r\n  }\r\n  return frag;\r\n}\r\n\r\nexport function template(html: string, _row: Record<string, string>) {\r\n  return html.replace(/\\{ *([\\w_-]+) *\\}/g, (_htm: string, key: string) => {\r\n    const value = _row[key] === undefined ? '' : _row[key];\r\n    return htmlEscape(value);\r\n  });\r\n}\r\n\r\nexport function htmlEscape(str: string | number) {\r\n  return String(str)\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;')\r\n    .replace(/\"/g, '&quot;')\r\n    .replace(/'/g, '&#039;');\r\n}\r\n\r\nexport function createElement(node: string | [string, { id?: string; classname?: string; attr?: { name: string; value: string } | { name: string; value: string }[] }], html: string) {\r\n  let elem: HTMLElement;\r\n  if (Array.isArray(node)) {\r\n    elem = document.createElement(node[0]);\r\n    const attrs = node[1];\r\n\r\n    if (attrs.id) elem.id = attrs.id;\r\n    if (attrs.classname) elem.className = attrs.classname;\r\n\r\n    if (attrs.attr) {\r\n      const attr = attrs.attr;\r\n      if (Array.isArray(attr)) {\r\n        let i = -1;\r\n        while (++i < attr.length) {\r\n          elem.setAttribute(attr[i].name, attr[i].value);\r\n        }\r\n      } else {\r\n        elem.setAttribute(attr.name, attr.value);\r\n      }\r\n    }\r\n  } else {\r\n    elem = document.createElement(node);\r\n  }\r\n  elem.innerHTML = html;\r\n  const frag = document.createDocumentFragment();\r\n\r\n  while (elem.childNodes[0]) frag.appendChild(elem.childNodes[0]);\r\n  elem.appendChild(frag);\r\n  return elem;\r\n}\r\n\r\nfunction classRegex(classname: string) {\r\n  return new RegExp(`(^|\\\\s+) ${classname} (\\\\s+|$)`);\r\n}\r\n\r\nfunction _addClass(el: HTMLElement, klass: string, timeout: number | null) {\r\n  // use native if available\r\n  if (el.classList) {\r\n    el.classList.add(klass);\r\n  } else {\r\n    el.className = (`${el.className} ${klass}`).trim();\r\n  }\r\n\r\n  if (timeout && isNumeric(timeout)) {\r\n    window.setTimeout(() => _removeClass(el, klass, null), timeout);\r\n  }\r\n}\r\n\r\nfunction _removeClass(el: HTMLElement, klass: string, timeout: number | null) {\r\n  if (el.classList) {\r\n    el.classList.remove(klass);\r\n  } else {\r\n    el.className = el.className.replace(classRegex(klass), ' ').trim();\r\n  }\r\n  if (timeout && isNumeric(timeout)) {\r\n    window.setTimeout(() => _addClass(el, klass, null), timeout);\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\contextmenu\\helpers\\mix.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[199,202],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[199,202],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[226,229],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[226,229],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[264,267],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[264,267],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[992,995],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[992,995],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1000,1003],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1000,1003],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":46,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1370,1373],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1370,1373],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1761,1764],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1761,1764],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":82,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2198,2201],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2198,2201],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":86,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":86,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2290,2293],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2290,2293],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":86,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":86,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2305,2308],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2305,2308],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":87,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2343,2346],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2343,2346],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":90,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2425,2428],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2425,2428],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":90,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2438,2441],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2438,2441],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2475,2478],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2475,2478],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":94,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2567,2570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2567,2570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":15,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Overwrites obj1's values with obj2's and adds\r\n * obj2's if non existent in obj1\r\n * @returns obj3 a new object based on obj1 and obj2\r\n */\r\nexport function mergeOptions(obj1: Record<string, any>, obj2: Record<string, any>) {\r\n  const obj3: Record<string, any> = {};\r\n  for (const attr1 in obj1) obj3[attr1] = obj1[attr1];\r\n  for (const attr2 in obj2) obj3[attr2] = obj2[attr2];\r\n  return obj3;\r\n}\r\n\r\nexport function assert(condition: boolean, message: string = 'Assertion failed') {\r\n  if (!condition) {\r\n    if (typeof Error !== 'undefined') throw new Error(message);\r\n    throw message; // Fallback\r\n  }\r\n}\r\n\r\n/**\r\n * Does str contain test?\r\n * @param {String} str_test\r\n * @param {String} str\r\n * @returns Boolean\r\n */\r\nexport function contains(str_test: string, str: string) {\r\n  return !!~str.indexOf(str_test);\r\n}\r\n\r\nexport function getUniqueId(prefix: string = 'id_') {\r\n  return `${prefix}${Math.random().toString(36).substring(2, 11)}`;\r\n}\r\n\r\nexport function assertEqual(a: any, b: any, message: string) {\r\n  if (a !== b) {\r\n    throw new Error(`${message} mismatch: ${a} != ${b}`);\r\n  }\r\n}\r\n\r\nexport function now() {\r\n  // Polyfill for window.performance.now()\r\n  // @license http://opensource.org/licenses/MIT\r\n  // copyright Paul Irish 2015\r\n  // https://gist.github.com/paulirish/5438650\r\n  if ('performance' in window === false) {\r\n    (window as any).performance = {};\r\n  }\r\n\r\n  Date.now =\r\n    Date.now ||\r\n    function () {\r\n      // thanks IE8\r\n      return new Date().getTime();\r\n    };\r\n\r\n  if ('now' in window.performance === false) {\r\n    let nowOffset = Date.now();\r\n\r\n    if (performance.timing && performance.timing.navigationStart) {\r\n      nowOffset = performance.timing.navigationStart;\r\n    }\r\n\r\n    (window.performance as any).now = () => Date.now() - nowOffset;\r\n  }\r\n\r\n  return window.performance.now();\r\n}\r\n\r\nexport function randomId(prefix: string) {\r\n  const id = now().toString(36);\r\n  return prefix ? prefix + id : id;\r\n}\r\n\r\nexport function isNumeric(str: string | number) {\r\n  return /^\\d+$/.test(String(str));\r\n}\r\n\r\nexport function isEmpty(str: string | undefined | null) {\r\n  return !str || 0 === str.length;\r\n}\r\n\r\nexport function emptyArray(array: any[]) {\r\n  while (array.length) array.pop();\r\n}\r\n\r\nexport function anyMatchInArray(source: any[], target: any[]) {\r\n  return source.some((each: any) => target.indexOf(each) >= 0);\r\n}\r\n\r\nexport function everyMatchInArray(arr1: any[], arr2: any[]) {\r\n  return arr2.every((each: any) => arr1.indexOf(each) >= 0);\r\n}\r\n\r\nexport function anyItemHasValue(obj: Record<string, any>, has: boolean = false) {\r\n  const keys = Object.keys(obj);\r\n  keys.forEach(key => {\r\n    if (!isEmpty(obj[key])) has = true;\r\n  });\r\n  return has;\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\contextmenu\\html.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\contextmenu\\internal.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":8,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":11,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[381,384],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[381,384],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[719,722],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[719,722],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":84,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1863,1866],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1863,1866],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":208,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":208,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5440,5443],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5440,5443],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-this-alias","severity":2,"message":"Unexpected aliasing of 'this' to local variable.","line":209,"column":11,"nodeType":"Identifier","messageId":"thisAssignment","endLine":209,"endColumn":16},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":234,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":234,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6251,6254],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6251,6254],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":246,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":246,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6515,6518],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6515,6518],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-this-alias","severity":2,"message":"Unexpected aliasing of 'this' to local variable.","line":251,"column":11,"nodeType":"Identifier","messageId":"thisAssignment","endLine":251,"endColumn":16},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":256,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":256,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6794,6797],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6794,6797],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import ContextMenuBase from './base';\r\nimport { ContextMenuInternalItem } from '../types';\r\nimport { CSS_VARS, EVENT_TYPE } from './constants';\r\nimport BaseEvent from 'ol/events/Event';\r\nimport {\r\n  find,\r\n  addClass,\r\n  removeClass,\r\n  getViewportSize,\r\n  offset,\r\n} from './helpers/dom';\r\n\r\n/**\r\n * @class Internal\r\n */\r\nexport class Internal {\r\n  Base: ContextMenuBase;\r\n  map: any;\r\n  viewport: HTMLElement | undefined;\r\n  coordinateClicked: number[] | undefined;\r\n  pixelClicked: number[] | undefined;\r\n  lineHeight: number;\r\n  items: Record<string, ContextMenuInternalItem>;\r\n  opened: boolean;\r\n  submenu: { left: string; lastLeft: string; };\r\n  eventHandler: (evt: Event) => void;\r\n  eventMapMoveHandler: (evt: any) => void;\r\n\r\n  /**\r\n   * @constructor\r\n   * @param {Function} base Base class.\r\n   */\r\n  constructor(base: ContextMenuBase) {\r\n    /**\r\n     * @type {ol.control.Control}\r\n     */\r\n    this.Base = base;\r\n    /**\r\n     * @type {ol.Map}\r\n     */\r\n    this.map = undefined;\r\n    /**\r\n     * @type {Element}\r\n     */\r\n    this.viewport = undefined;\r\n    /**\r\n     * @type {ol.Coordinate}\r\n     */\r\n    this.coordinateClicked = undefined;\r\n    /**\r\n     * @type {ol.Pixel}\r\n     */\r\n    this.pixelClicked = undefined;\r\n    /**\r\n     * @type {Number}\r\n     */\r\n    this.lineHeight = 0;\r\n    /**\r\n     * @type {Object}\r\n     */\r\n    this.items = {};\r\n    /**\r\n     * @type {Boolean}\r\n     */\r\n    this.opened = false;\r\n    /**\r\n     * @type {Object}\r\n     */\r\n    this.submenu = {\r\n      left: `${base.options.width! - 15}px`, // options.width is likely set\r\n      lastLeft: '', // string + px\r\n    };\r\n    /**\r\n     * @type {Function}\r\n     */\r\n    this.eventHandler = this.handleEvent.bind(this);\r\n    /**\r\n     * @type {Function}\r\n     */\r\n    this.eventMapMoveHandler = this.handleMapMoveEvent.bind(this);\r\n    return this;\r\n  }\r\n\r\n  init(map: any) {\r\n    this.map = map;\r\n    this.viewport = map.getViewport();\r\n    this.setListeners();\r\n    this.Base.Html.createMenu();\r\n\r\n    this.lineHeight =\r\n      this.getItemsLength() > 0\r\n        ? this.Base.container.offsetHeight / this.getItemsLength()\r\n        : this.Base.Html.cloneAndGetLineHeight();\r\n  }\r\n\r\n  getItemsLength() {\r\n    let count = 0;\r\n    Object.keys(this.items).forEach(k => {\r\n      if (this.items[k].submenu || this.items[k].separator) return;\r\n      count++;\r\n    });\r\n    return count;\r\n  }\r\n\r\n  getPixelClicked() {\r\n    return this.pixelClicked;\r\n  }\r\n\r\n  getCoordinateClicked() {\r\n    return this.coordinateClicked;\r\n  }\r\n\r\n  positionContainer(pixel: number[]) {\r\n    const container = this.Base.container;\r\n    const mapSize = this.map.getSize();\r\n    // how much (width) space left over\r\n    const space_left_h = mapSize[1] - pixel[1];\r\n    // how much (height) space left over\r\n    const space_left_w = mapSize[0] - pixel[0];\r\n\r\n    const menuSize = {\r\n      w: container.offsetWidth,\r\n      // a cheap way to recalculate container height\r\n      // since offsetHeight is like cached\r\n      h: Math.round(this.lineHeight * this.getItemsLength()),\r\n    };\r\n    // submenus\r\n    const subs = find(`li.${CSS_VARS.submenu}>div`, container, true) as HTMLElement[];\r\n\r\n    if (space_left_w >= menuSize.w) {\r\n      container.style.right = 'auto';\r\n      container.style.left = `${pixel[0] + 5}px`;\r\n    } else {\r\n      container.style.left = 'auto';\r\n      container.style.right = '15px';\r\n    }\r\n    // set top or bottom\r\n    if (space_left_h >= menuSize.h) {\r\n      container.style.bottom = 'auto';\r\n      container.style.top = `${pixel[1] - 10}px`;\r\n    } else {\r\n      container.style.top = 'auto';\r\n      container.style.bottom = '0';\r\n    }\r\n\r\n    removeClass(container, CSS_VARS.hidden, null);\r\n\r\n    if (subs.length) {\r\n      if (space_left_w < menuSize.w * 2) {\r\n        // no space (at right) for submenu\r\n        // position them at left\r\n        this.submenu.lastLeft = `-${menuSize.w}px`;\r\n      } else {\r\n        this.submenu.lastLeft = this.submenu.left;\r\n      }\r\n      subs.forEach((sub: HTMLElement) => {\r\n        // is there enough space for submenu height?\r\n        const viewport = getViewportSize();\r\n        const sub_offset = offset(sub);\r\n        const sub_height = sub_offset.height;\r\n        let sub_top = space_left_h - sub_height;\r\n\r\n        if (sub_top < 0) {\r\n          sub_top = sub_height - (viewport.h - sub_offset.top);\r\n          sub.style.top = `-${sub_top}px`;\r\n        }\r\n        sub.style.left = this.submenu.lastLeft;\r\n      });\r\n    }\r\n  }\r\n\r\n  openMenu(pixel: number[], coordinate: number[]) {\r\n    const event = new BaseEvent(EVENT_TYPE.OPEN);\r\n    Object.assign(event, { pixel, coordinate });\r\n    this.Base.dispatchEvent(event);\r\n    this.opened = true;\r\n    this.positionContainer(pixel);\r\n  }\r\n\r\n  closeMenu() {\r\n    this.opened = false;\r\n    addClass(this.Base.container, CSS_VARS.hidden, null);\r\n    this.Base.dispatchEvent(new BaseEvent(EVENT_TYPE.CLOSE));\r\n  }\r\n\r\n  setListeners() {\r\n    if (this.viewport) {\r\n      this.viewport.addEventListener(\r\n        this.Base.options.eventType as string,\r\n        this.eventHandler,\r\n        false\r\n      );\r\n    }\r\n    this.map.on('movestart', this.eventMapMoveHandler);\r\n  }\r\n\r\n  removeListeners() {\r\n    if (this.viewport) {\r\n      this.viewport.removeEventListener(\r\n        this.Base.options.eventType as string,\r\n        this.eventHandler,\r\n        false\r\n      );\r\n    }\r\n    this.map.un('movestart', this.eventMapMoveHandler);\r\n  }\r\n\r\n  handleEvent(evt: any) {\r\n    const this_ = this;\r\n\r\n    this.coordinateClicked = this.map.getEventCoordinate(evt);\r\n    this.pixelClicked = this.map.getEventPixel(evt);\r\n\r\n    const event = new BaseEvent(EVENT_TYPE.BEFOREOPEN);\r\n    Object.assign(event, { pixel: this.pixelClicked, coordinate: this.coordinateClicked });\r\n    this.Base.dispatchEvent(event);\r\n\r\n    if (this.Base.disabled) return;\r\n\r\n    if (this.Base.options.eventType === EVENT_TYPE.CONTEXTMENU) {\r\n      // don't be intrusive with other event types\r\n      evt.stopPropagation();\r\n      evt.preventDefault();\r\n    }\r\n\r\n    if (this.pixelClicked && this.coordinateClicked) {\r\n      this.openMenu(this.pixelClicked, this.coordinateClicked);\r\n    }\r\n\r\n    //one-time fire\r\n    evt.target.addEventListener(\r\n      'pointerdown',\r\n      {\r\n        handleEvent: (e: any) => {\r\n          if (this_.opened) {\r\n            this_.closeMenu();\r\n            e.stopPropagation();\r\n            evt.target.removeEventListener(e.type, this, false);\r\n          }\r\n        },\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  handleMapMoveEvent(_evt: any) {\r\n    this.closeMenu();\r\n  }\r\n\r\n  setItemListener(li: HTMLElement, index: string) {\r\n    const this_ = this;\r\n    if (li && typeof this.items[index].callback === 'function') {\r\n      (function (callback) {\r\n        li.addEventListener(\r\n          'click',\r\n          (evt: any) => {\r\n            evt.preventDefault();\r\n            const obj = {\r\n              coordinate: this_.getCoordinateClicked() || [],\r\n              data: this_.items[index].data || null,\r\n            };\r\n            this_.closeMenu();\r\n            callback(obj, this_.map);\r\n          },\r\n          false\r\n        );\r\n      })(this.items[index].callback);\r\n    }\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\function.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":1,"column":1,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":1,"endColumn":14,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[0,13],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[148,151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[148,151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[170,173],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[170,173],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[587,590],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[587,590],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[882,885],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[882,885],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// @ts-ignore\r\nimport { normalizeArg as normalizeArg_ } from \"@maplat/core/dist/functions\";\r\n\r\nexport function normalizeArg(options: Record<string, any>): Record<string, any> {\r\n  const table: Record<string, string> = {\r\n    state_url: \"stateUrl\",\r\n    restore_session: \"restoreSession\",\r\n    enable_share: \"enableShare\",\r\n    mobile_if: \"mobileIF\",\r\n    pwa_manifest: \"pwaManifest\",\r\n    pwa_worker: \"pwaWorker\",\r\n    pwa_scope: \"pwaScope\",\r\n    presentation_mode: \"presentationMode\"\r\n  };\r\n  options = normalizeArg_(options);\r\n\r\n  return Object.keys(table).reduce((opt: Record<string, any>, key: string) => {\r\n    if (opt[key] !== undefined) {\r\n      throw new Error(`Invalid Maplat option key: ${key}. Use \"${table[key]}\" instead.`);\r\n      //opt[table[key]] = opt[key];\r\n      //delete opt[key];\r\n    }\r\n    return opt;\r\n  }, options);\r\n}\r\n\r\nexport function getUniqueId(prefix: any = 'id_') {\r\n  return prefix + Math.random().toString(36).substr(2, 9);\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\icons.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\index.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":10,"column":1,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":10,"endColumn":14,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[204,217],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-this-alias","severity":2,"message":"Unexpected aliasing of 'this' to local variable.","line":85,"column":11,"nodeType":"Identifier","messageId":"thisAssignment","endLine":85,"endColumn":13},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":90,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2467,2470],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2467,2470],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":90,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2479,2482],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2479,2482],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":101,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":101,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2892,2895],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2892,2895],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":108,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":108,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3078,3081],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3078,3081],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":234,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":234,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7942,7945],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7942,7945],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":237,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":237,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7980,7983],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7980,7983],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":246,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":246,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8235,8238],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8235,8238],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":253,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":253,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8477,8480],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8477,8480],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":254,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":254,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8554,8557],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8554,8557],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-this-alias","severity":2,"message":"Unexpected aliasing of 'this' to local variable.","line":267,"column":11,"nodeType":"Identifier","messageId":"thisAssignment","endLine":267,"endColumn":13},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":312,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":312,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9988,9991],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9988,9991],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":314,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":314,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10167,10170],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10167,10170],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":314,"column":114,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":314,"endColumn":117,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10224,10227],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10224,10227],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-this-alias","severity":2,"message":"Unexpected aliasing of 'this' to local variable.","line":323,"column":11,"nodeType":"Identifier","messageId":"thisAssignment","endLine":323,"endColumn":13},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":329,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":329,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10615,10618],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10615,10618],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":331,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":331,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10736,10739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10736,10739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":337,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":337,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10894,10897],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10894,10897],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":349,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":349,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11253,11256],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11253,11256],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":350,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":350,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11315,11318],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11315,11318],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":362,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":362,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11871,11874],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11871,11874],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":367,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":367,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12034,12037],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12034,12037],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":373,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":373,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12270,12273],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12270,12273],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":377,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":377,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12527,12530],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12527,12530],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":397,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":397,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13006,13009],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13006,13009],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":397,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":397,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13018,13021],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13018,13021],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":397,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":397,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13026,13029],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13026,13029],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":28,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport {\r\n  MaplatApp as Core\r\n} from \"@maplat/core\";\r\nimport \"ol/ol.css\";\r\nimport EventTarget from \"ol/events/Target.js\";\r\nimport { asArray } from 'ol/color';\r\n\r\nimport { Swiper } from \"./swiper_ex\";\r\n// @ts-ignore\r\nimport { Navigation, Pagination } from \"swiper\";\r\nimport \"swiper/swiper-bundle.css\";\r\nimport page from \"page\";\r\nimport * as bsn from \"bootstrap.native\";\r\nimport \"../less/ui.less\";\r\n\r\nimport { uiInit } from \"./ui_init\";\r\nimport {\r\n  handleMarkerAction,\r\n  showContextMenu,\r\n  xyToMapIDs,\r\n  setHideMarker,\r\n  checkOverlayID,\r\n  handleMarkerActionById\r\n} from \"./ui_marker\";\r\nimport {\r\n  resolveRelativeLink,\r\n  ellips\r\n} from \"./ui_utils\";\r\nimport type {\r\n  MaplatAppOption,\r\n  SwiperInstance,\r\n  SliderControl,\r\n  ContextMenuInterface\r\n} from \"./types\";\r\n\r\nSwiper.use([Navigation, Pagination]);\r\n\r\n\r\nexport class MaplatUi extends EventTarget {\r\n  static createObject(option: MaplatAppOption) {\r\n    const app = new MaplatUi(option);\r\n    return app.waitReady.then(() => app);\r\n  }\r\n\r\n  core?: Core;\r\n  appOption: MaplatAppOption;\r\n  waitReady!: Promise<MaplatUi>;\r\n  waitReadyBridge: ((value: MaplatUi) => void) | null = null;\r\n  pathThatSet?: string;\r\n  swipers: Record<string, SwiperInstance> = {};\r\n  mobile_if: unknown;\r\n  ui_func: unknown;\r\n  datum: unknown;\r\n  selected_layer: unknown;\r\n  toms: unknown;\r\n  cache_messages: unknown;\r\n  last_toast: unknown;\r\n  share_enable!: boolean;\r\n  sliderNew: SliderControl | null = null;\r\n  baseSwiper: SwiperInstance | null = null;\r\n  overlaySwiper: SwiperInstance | null = null;\r\n  sliderCommon: unknown;\r\n  contextMenu: ContextMenuInterface | null = null;\r\n  splashPromise!: Promise<void>;\r\n  _selectCandidateSources?: Record<string, unknown>;\r\n  appEnvelope?: boolean;\r\n  restoring: boolean = false;\r\n  poiSwiper: SwiperInstance | null = null;\r\n  html!: string;\r\n  enablePoiHtmlNoScroll: boolean = false;\r\n  enableShare: boolean = false;\r\n  enableHideMarker: boolean = false;\r\n  enableBorder: boolean = false;\r\n  enableMarkerList: boolean = false;\r\n  disableNoimage: boolean = false;\r\n  alwaysGpsOn: boolean = false;\r\n  isTouch: boolean = false;\r\n  html_id_seed: string;\r\n  lastClickPixel: number[] | null = null;\r\n  lastClickCoordinate: number[] | null = null;\r\n\r\n  constructor(appOption: MaplatAppOption) {\r\n    super();\r\n    const ui = this;\r\n    this.html_id_seed = `${Math.floor(Math.random() * 9000) + 1000}`;\r\n    this.appOption = appOption;\r\n\r\n    if (appOption.stateUrl) {\r\n      page((ctx: any, _next: any) => {\r\n        let pathes = ctx.canonicalPath.split(\"#!\");\r\n        let path = pathes.length > 1 ? pathes[1] : pathes[0];\r\n        console.log(`[Debug] Page callback.Canonical: ${ctx.canonicalPath}, Path: ${path} `);\r\n\r\n        pathes = path.split(\"?\");\r\n        path = pathes[0];\r\n        if (path === ui.pathThatSet) {\r\n          delete ui.pathThatSet;\r\n          return;\r\n        }\r\n        const restore: any = {\r\n          transparency: 0,\r\n          position: {\r\n            rotation: 0\r\n          }\r\n        };\r\n        // Parse \"s:map/x:100/...\"\r\n        path.split(\"/\").forEach((state: any) => {\r\n          if (!state) return;\r\n          const line = state.split(\":\");\r\n          console.log(`[Debug] Parsing state: ${state} `, line);\r\n          switch (line[0]) {\r\n            case \"s\":\r\n              restore.mapID = line[1];\r\n              break;\r\n            case \"b\":\r\n              restore.backgroundID = line[1];\r\n              break;\r\n            case \"t\":\r\n              restore.transparency = parseFloat(line[1]);\r\n              break;\r\n            case \"r\":\r\n              restore.position.rotation = parseFloat(line[1]);\r\n              break;\r\n            case \"z\":\r\n              restore.position.zoom = parseFloat(line[1]);\r\n              break;\r\n            case \"x\":\r\n            case \"y\":\r\n              restore.position[line[0]] = parseFloat(line[1]);\r\n              break;\r\n            case \"sb\":\r\n              restore.showBorder = !!parseInt(line[1]);\r\n              break;\r\n            case \"hm\":\r\n              restore.hideMarker = !!parseInt(line[1]);\r\n              break;\r\n            case \"hl\":\r\n              restore.hideLayer = line[1];\r\n              break;\r\n            case \"om\":\r\n              restore.openedMarker = line[1];\r\n              break;\r\n            case \"c\":\r\n              if (ui.core) {\r\n                const modalElm =\r\n                  ui.core!.mapDivDocument!.querySelector(\".modalBase\")!;\r\n                const modal = new bsn.Modal(modalElm, {\r\n                  root: ui.core!.mapDivDocument!\r\n                });\r\n                modal.hide();\r\n              }\r\n              break;\r\n          }\r\n        });\r\n        if (!ui.core) {\r\n          if (restore.mapID) {\r\n            console.log(`[Debug] Init with restore: `, JSON.parse(JSON.stringify(restore)));\r\n            appOption.restore = restore;\r\n            ui.restoring = true;\r\n          }\r\n          const preRot = restore.position ? restore.position.rotation : 'undefined';\r\n          console.log(`[Debug] Before initializer: rotation = ${preRot} `);\r\n\r\n          ui.initializer(appOption).then(() => {\r\n            ui.core!.waitReady.then(() => {\r\n              // Fix: Manually apply rotation as Core 0.11.1 preserves it but fails to apply it view-side\r\n              // if (restore.position && restore.position.rotation !== undefined) {\r\n              //   console.log(`[Debug] Manually applying rotation: ${ restore.position.rotation } `);\r\n              //   ui.core!.mapObject.getView().setRotation(restore.position.rotation);\r\n              // }\r\n              // Fix: Verify transparency state before updating URL\r\n              if (ui.sliderNew) {\r\n                // Ensure map transparency matches restore if slider is ready\r\n                const currentTrans = ui.sliderNew.get(\"slidervalue\") * 100;\r\n                console.log(`[Debug] Slider transparency: ${currentTrans} `);\r\n              } else {\r\n                console.log(`[Debug] Slider not ready yet`);\r\n              }\r\n\r\n              ui.restoring = false;\r\n              console.log(`[Debug] Calling updateUrl from Init`);\r\n              ui.updateUrl();\r\n            });\r\n          });\r\n        } else if (restore.mapID) {\r\n          console.log(`[Debug] ChangeMap with restore: `, JSON.parse(JSON.stringify(restore)));\r\n          ui.restoring = true;\r\n\r\n          ui.core!.waitReady.then(() => {\r\n            const ret = ui.core!.changeMap(restore.mapID, restore);\r\n            Promise.resolve(ret).then(() => {\r\n              // Fix: Manually apply rotation after changeMap\r\n              // if (restore.position && restore.position.rotation !== undefined) {\r\n              //   console.log(`[Debug] Manually applying rotation after changeMap: ${ restore.position.rotation } `);\r\n              //   ui.core!.mapObject.getView().setRotation(restore.position.rotation);\r\n              // }\r\n\r\n              // Update transparency slider if needed\r\n              if (ui.sliderNew) {\r\n                const t = restore.transparency || 0;\r\n                const val = t / 100;\r\n                ui.sliderNew.set(\"slidervalue\", val);\r\n                if (ui.sliderNew.element) {\r\n                  (ui.sliderNew.element as HTMLInputElement).value = (1 - val).toString();\r\n                }\r\n              }\r\n\r\n              ui.restoring = false;\r\n              console.log(`[Debug] Calling updateUrl from ChangeMap`);\r\n              ui.updateUrl();\r\n            });\r\n          });\r\n        }\r\n      });\r\n      page({\r\n        hashbang: true\r\n      });\r\n      page();\r\n      ui.waitReady = new Promise<MaplatUi>(resolve => {\r\n        ui.waitReadyBridge = resolve;\r\n      });\r\n    } else {\r\n      ui.waitReady = ui.initializer(appOption);\r\n    }\r\n  }\r\n\r\n  async initializer(appOption: MaplatAppOption): Promise<MaplatUi> {\r\n    await uiInit(this, appOption);\r\n    return this;\r\n  }\r\n\r\n  handleMarkerAction(data: unknown) {\r\n    handleMarkerAction(this, data as any);\r\n  }\r\n\r\n  showContextMenu(list: any[]) {\r\n    showContextMenu(this, list);\r\n  }\r\n\r\n  async xyToMapIDs(xy: number[], threshold = 10) {\r\n    return xyToMapIDs(this, xy, threshold);\r\n  }\r\n\r\n  setShowBorder(flag: boolean) {\r\n    this.core!.requestUpdateState({ showBorder: flag ? 1 : 0 } as any);\r\n    this.updateEnvelope();\r\n    if (flag) {\r\n      this.core!.mapDivDocument!.classList.add(\"show-border\");\r\n    } else {\r\n      this.core!.mapDivDocument!.classList.remove(\"show-border\");\r\n    }\r\n    if ((this.core!.restoreSession as any)) {\r\n      this.core!.requestUpdateState({ showBorder: flag ? 1 : 0 } as any);\r\n    }\r\n  }\r\n\r\n  setHideMarker(flag: boolean) {\r\n    setHideMarker(this, flag);\r\n  }\r\n\r\n  handleMarkerActionById(markerId: string) {\r\n    handleMarkerActionById(this, markerId);\r\n  }\r\n\r\n  updateUrl() {\r\n    const ui = this;\r\n    if (!ui.appOption.stateUrl) return;\r\n    if (ui.restoring) return;\r\n\r\n    const map = ui.core!.mapObject;\r\n    if (!map) return;\r\n    const view = map.getView();\r\n    const center = view.getCenter();\r\n    const zoom = view.getZoom();\r\n    const rotation = view.getRotation();\r\n\r\n    const currentMap = ui.core!.from ? ui.core!.from.mapID : \"\";\r\n    if (!currentMap) return;\r\n\r\n    // Background ID\r\n    let backMap = \"\";\r\n    if (ui.baseSwiper) {\r\n      const slide = ui.baseSwiper.slides[ui.baseSwiper.activeIndex];\r\n      if (slide) {\r\n        backMap = slide.getAttribute(\"data\") || \"\";\r\n      }\r\n    }\r\n\r\n    const transparency = ui.sliderNew ? ui.sliderNew.get(\"slidervalue\") * 100 : 0;\r\n\r\n    // Legacy format: s:map/b:back/... (no leading slash, prepended with #!)\r\n    let path = `s:${currentMap}`;\r\n\r\n    if (backMap && backMap !== currentMap) {\r\n      path += `/b:${backMap}`;\r\n    }\r\n\r\n    if (transparency > 0) {\r\n      path += `/t:${transparency}`;\r\n    }\r\n\r\n    path += `/x:${center[0]}`;\r\n    path += `/y:${center[1]}`;\r\n    path += `/z:${zoom}`;\r\n\r\n    if (rotation !== 0) {\r\n      path += `/r:${rotation * 180 / Math.PI}`;\r\n    }\r\n\r\n    // Options\r\n    if ((ui.core!.stateBuffer as any).showBorder) path += `/sb:1`;\r\n    if ((ui.core!.mapDivDocument!.classList.contains(\"hide-marker\"))) path += `/hm:1`;\r\n    if (ui.enableMarkerList && (ui.core!.stateBuffer as any).markerList) path += `/om:${(ui.core!.stateBuffer as any).markerList}`;\r\n\r\n    if (ui.pathThatSet !== path) {\r\n      ui.pathThatSet = path;\r\n      page(`#!${path}`);\r\n    }\r\n  }\r\n\r\n  updateEnvelope() {\r\n    const ui = this;\r\n    if (!ui.core!.mapObject) return;\r\n\r\n    ui.core!.mapObject.resetEnvelope();\r\n    if (ui._selectCandidateSources) {\r\n      Object.keys(ui._selectCandidateSources).forEach(key => {\r\n        if ((ui.core!.mapObject as any).removeEnvelope) {\r\n          console.log(`[Debug] Removing envelope for ${key}`);\r\n          (ui.core!.mapObject as any).removeEnvelope(ui._selectCandidateSources![key]);\r\n        }\r\n      });\r\n    }\r\n    ui._selectCandidateSources = {};\r\n\r\n    if ((ui.core!.stateBuffer as any).showBorder) {\r\n      if (!ui.core!.from) return;\r\n\r\n      let activeOverlayId: string | null = null;\r\n      if (ui.overlaySwiper) {\r\n        const slide = ui.overlaySwiper.slides[ui.overlaySwiper.activeIndex];\r\n        if (slide) activeOverlayId = slide.getAttribute(\"data\");\r\n      }\r\n\r\n\r\n\r\n      Object.keys(ui.core!.cacheHash!)\r\n        .filter((key: any) => ui.core!.cacheHash[key].envelope)\r\n        .map((key: any) => {\r\n          const source = ui.core!.cacheHash[key];\r\n          const isActive = key === activeOverlayId;\r\n          const xyPromises =\r\n            key === ui.core!.from!.mapID && typeof source.xy2SysCoord === 'function'\r\n              ? [\r\n                [0, 0],\r\n                [source.width, 0],\r\n                [source.width, source.height],\r\n                [0, source.height],\r\n                [0, 0]\r\n              ].map(xy => Promise.resolve(source.xy2SysCoord(xy)))\r\n              : source.envelope.geometry.coordinates[0].map((coord: any) =>\r\n                ui.core!.from!.merc2SysCoordAsync(coord)\r\n              );\r\n\r\n          Promise.all(xyPromises).then(xys => {\r\n            const options: any = {\r\n              color: source.envelopeColor,\r\n              width: 2,\r\n              lineDash: [6, 6]\r\n            };\r\n            ui.core!.mapObject.setEnvelope(xys, options);\r\n            if (isActive && (ui.core!.mapObject as any).setFillEnvelope) {\r\n              console.log(`[Debug] Setting fill envelope for ${key}`);\r\n              const color = asArray(source.envelopeColor || '#000000');\r\n              color[3] = 0.4;\r\n              const fillHandle = (ui.core!.mapObject as any).setFillEnvelope(xys, null, { color });\r\n              ui._selectCandidateSources![key] = fillHandle;\r\n            }\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  resolveRelativeLink(file: string, fallbackPath: string) {\r\n    return resolveRelativeLink(file, fallbackPath);\r\n  }\r\n\r\n  checkOverlayID(mapID: string) {\r\n    return checkOverlayID(this, mapID);\r\n  }\r\n\r\n  areaIndex(xys: number[][]) {\r\n    return (\r\n      0.5 *\r\n      Math.abs(\r\n        [0, 1, 2, 3].reduce((prev: any, _curr: any, i: any) => {\r\n          const xy1 = xys[i];\r\n          const xy2 = xys[i + 1];\r\n          return prev + (xy1[0] - xy2[0]) * (xy1[1] + xy2[1]);\r\n        }, 0)\r\n      )\r\n    );\r\n  }\r\n\r\n  getShareUrl(type: string) {\r\n    if (type === \"view\") {\r\n      return window.location.href;\r\n    }\r\n    // app\r\n    return window.location.href.split(\"?\")[0].split(\"#\")[0];\r\n  }\r\n\r\n  showToast(message: string, target?: HTMLElement) {\r\n    let toast = document.querySelector(\".custom-toast\") as HTMLElement;\r\n    if (!toast) {\r\n      toast = document.createElement(\"div\");\r\n      toast.className = \"custom-toast\";\r\n      document.body.appendChild(toast);\r\n    }\r\n    (toast as HTMLElement).innerText = message;\r\n\r\n    if (target) {\r\n      const parent = target.closest(\".recipient\");\r\n      const rect = (parent || target).getBoundingClientRect();\r\n      toast.style.position = \"fixed\";\r\n      toast.style.left = `${rect.left + rect.width / 2}px`;\r\n      toast.style.top = `${rect.top + rect.height / 2}px`;\r\n      toast.style.transform = \"translate(-50%, -50%)\";\r\n      toast.style.bottom = \"auto\";\r\n      toast.style.margin = \"0\";\r\n    } else {\r\n      toast.style.position = \"fixed\";\r\n      toast.style.left = \"50%\";\r\n      toast.style.bottom = \"30px\";\r\n      toast.style.top = \"auto\";\r\n      toast.style.transform = \"\";\r\n      toast.style.marginLeft = \"-125px\";\r\n    }\r\n\r\n    toast.classList.add(\"show\");\r\n\r\n    setTimeout(() => {\r\n      toast!.classList.remove(\"show\");\r\n    }, 1500);\r\n  }\r\n\r\n\r\n  modalSetting(type: string) {\r\n    const modalElm = this.core!.mapDivDocument!.querySelector(\".modalBase\")!;\r\n    modalElm.classList.remove(\"modal_load\", \"modal_poi\", \"modal_share\", \"modal_help\", \"modal_gpsW\", \"modal_gpsD\", \"modal_map\", \"modal_marker_list\");\r\n    modalElm.classList.add(`modal_${type}`);\r\n  }\r\n\r\n  ellips() {\r\n    ellips(this.core!.mapDivDocument!);\r\n  }\r\n\r\n  remove() {\r\n    this.core!.remove();\r\n    delete this.core;\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\maplat_control.ts","messages":[{"ruleId":"no-duplicate-imports","severity":2,"message":"'ol' import is duplicated.","line":4,"column":1,"nodeType":"ImportDeclaration","messageId":"import","endLine":4,"endColumn":40},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1611,1614],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1611,1614],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2237,2240],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2237,2240],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":146,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":146,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5319,5322],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5319,5322],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":147,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":147,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5334,5337],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5334,5337],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":148,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":148,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5359,5362],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5359,5362],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":149,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":149,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5378,5381],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5378,5381],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":150,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":150,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5394,5397],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5394,5397],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":151,"column":7,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":151,"endColumn":10,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5406,5409],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5406,5409],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":170,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":170,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5979,5982],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5979,5982],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":171,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":171,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6005,6008],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6005,6008],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-this-alias","severity":2,"message":"Unexpected aliasing of 'this' to local variable.","line":172,"column":11,"nodeType":"Identifier","messageId":"thisAssignment","endLine":172,"endColumn":15},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":186,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":186,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6418,6421],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6418,6421],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":207,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":207,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6913,6916],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6913,6916],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":224,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":224,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7346,7349],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7346,7349],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":241,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":241,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7749,7752],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7749,7752],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":281,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":281,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8733,8736],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8733,8736],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":282,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":282,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8785,8788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8785,8788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":283,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":283,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8822,8825],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8822,8825],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":302,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":302,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9417,9420],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9417,9420],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":307,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":307,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9551,9554],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9551,9554],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":321,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":321,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10068,10071],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10068,10071],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":337,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":337,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10486,10489],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10486,10489],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":339,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":339,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10562,10565],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10562,10565],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":353,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":353,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11274,11277],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11274,11277],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":356,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":356,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11400,11403],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11400,11403],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":382,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":382,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12380,12383],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12380,12383],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":383,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":383,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12395,12398],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12395,12398],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":384,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":384,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12417,12420],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12417,12420],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":394,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":394,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12818,12821],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12818,12821],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":399,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":399,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12952,12955],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12952,12955],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":430,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":430,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14170,14173],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14170,14173],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":431,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":431,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14221,14224],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14221,14224],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":431,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":431,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14262,14265],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14262,14265],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":432,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":432,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14314,14317],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14314,14317],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":467,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":467,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15673,15676],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15673,15676],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":489,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":489,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16389,16392],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16389,16392],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":511,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":511,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17104,17107],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17104,17107],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":533,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":533,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17824,17827],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17824,17827],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":555,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":555,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[18558,18561],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[18558,18561],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":577,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":577,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[19296,19299],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[19296,19299],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":41,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Control, Rotate, Zoom as BaseZoom } from \"ol/control\";\r\nimport { CLASS_UNSELECTABLE, CLASS_CONTROL } from \"ol/css\";\r\nimport { MapEvent } from \"ol\";\r\nimport type { Map as OLMap } from \"ol\";\r\n\r\nimport pointer from \"./pointer_images\";\r\nimport { createElement, MaplatApp } from \"@maplat/core\";\r\nimport * as bsn from \"bootstrap.native\";\r\nimport { getIcon } from \"./icons\";\r\nimport { ControlOptions, RGB } from \"./types\";\r\n\r\nexport let control_settings: Record<string, string> = {};\r\nconst delegator: { [key: string]: string } = {\r\n  compass: \"compass.png\",\r\n  border: \"border.png\",\r\n  attr: \"attr.png\",\r\n  gps: \"gps.png\",\r\n  zoom_plus: \"plus.png\",\r\n  zoom_minus: \"minus.png\",\r\n  help: \"help.png\",\r\n  home: \"home.png\",\r\n  hide_marker: \"hide_marker.png\",\r\n  marker_list: \"marker_list.png\",\r\n  share: \"share.png\",\r\n  slider_in_help: \"slider.png\",\r\n  favicon: \"favicon.png\"\r\n};\r\n\r\nfunction hexRgb(hex: string): RGB {\r\n  const ret: Partial<RGB> = {};\r\n  if (hex.match(/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i)) {\r\n    ret.red = parseInt(RegExp.$1, 16);\r\n    ret.green = parseInt(RegExp.$2, 16);\r\n    ret.blue = parseInt(RegExp.$3, 16);\r\n  } else if (hex.match(/^#?([0-9A-F])([0-9A-F])([0-9A-F])$/i)) {\r\n    ret.red = parseInt(`${RegExp.$1}${RegExp.$1}`, 16);\r\n    ret.green = parseInt(`${RegExp.$2}${RegExp.$2}`, 16);\r\n    ret.blue = parseInt(`${RegExp.$3}${RegExp.$3}`, 16);\r\n  }\r\n  return ret as RGB;\r\n}\r\n\r\nexport function setControlSettings(options: Record<string, string>) {\r\n  control_settings = options;\r\n  Object.keys(control_settings).forEach(key => {\r\n    if (delegator[key]) {\r\n      (pointer as any)[delegator[key]] = control_settings[key];\r\n    }\r\n  });\r\n}\r\n\r\nexport class SliderNew extends Control {\r\n  constructor(opt_options: ControlOptions) {\r\n    const options = opt_options || {};\r\n    const containerElement = document.createElement(\"input\");\r\n    containerElement.type = \"range\";\r\n    containerElement.min = \"0\";\r\n    containerElement.max = \"1\";\r\n    // containerElement.max = \"1\"; // Redundant\r\n    const initialValue = options.initialValue || 0;\r\n    containerElement.value = `${1 - initialValue}`;\r\n    containerElement.step = \"0.01\";\r\n    const render = options.render ? options.render : function (mapEvent: any) { if (!mapEvent.frameState) return; };\r\n    super({\r\n      element: containerElement,\r\n      render\r\n    });\r\n    const className =\r\n      options.className !== undefined ? options.className : \"ol-slidernew\";\r\n    this.set(\"slidervalue\", initialValue);\r\n\r\n    containerElement.title = options.tipLabel || \"\";\r\n    containerElement.className = `${className} ${CLASS_UNSELECTABLE} ${CLASS_CONTROL}`;\r\n    containerElement.addEventListener(\"click\", ev => {\r\n      ev.stopPropagation();\r\n    });\r\n    containerElement.addEventListener(\"pointerdown\", ev => {\r\n      ev.stopPropagation();\r\n    });\r\n    containerElement.addEventListener(\"pointerup\", ev => {\r\n      ev.stopPropagation();\r\n    });\r\n\r\n    containerElement.addEventListener(\"input\", _ev => {\r\n      this.set(\"slidervalue\", 1 - parseFloat((this.element as HTMLInputElement).value));\r\n    });\r\n\r\n    if (control_settings[\"slider_color\"]) {\r\n      const rgb = hexRgb(control_settings[\"slider_color\"]);\r\n      containerElement.classList.add(\"ol-slider-originalcolor\");\r\n      const sheets = document.styleSheets;\r\n      const sheet = sheets[sheets.length - 1] as CSSStyleSheet;\r\n      try {\r\n        sheet.insertRule(`.maplat.with-opacity .ol-slider-originalcolor.${className}::-webkit-slider-thumb {\r\n          background: rgba(${rgb.red},${rgb.green},${rgb.blue}, 0.5);\r\n        }`, sheet.cssRules.length);\r\n\r\n        sheet.insertRule(`.maplat.with-opacity .ol-slider-originalcolor.${className}::-moz-range-thumb {\r\n          background: rgba(${rgb.red},${rgb.green},${rgb.blue}, 0.5);\r\n        }`, sheet.cssRules.length);\r\n\r\n        sheet.insertRule(`.maplat.with-opacity .ol-slider-originalcolor.${className}[disabled]::-webkit-slider-thumb {\r\n          background: rgba(${rgb.red},${rgb.green},${rgb.blue}, 0.2);\r\n        }`, sheet.cssRules.length);\r\n\r\n        sheet.insertRule(`.maplat.with-opacity .ol-slider-originalcolor.${className}[disabled]::-moz-range-thumb {\r\n          background: rgba(${rgb.red},${rgb.green},${rgb.blue}, 0.2);\r\n        }`, sheet.cssRules.length);\r\n\r\n        sheet.insertRule(`.maplat.with-opacity .ol-slider-originalcolor.${className}:not([disabled])::-webkit-slider-thumb:hover {\r\n          background: rgba(${rgb.red},${rgb.green},${rgb.blue}, 0.7);\r\n        }`, sheet.cssRules.length);\r\n\r\n        sheet.insertRule(`.maplat.with-opacity .ol-slider-originalcolor.${className}:not([disabled])::-moz-range-thumb:hover {\r\n          background: rgba(${rgb.red},${rgb.green},${rgb.blue}, 0.7);\r\n        }`, sheet.cssRules.length);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n  }\r\n\r\n  setMap(map: OLMap | null) {\r\n    super.setMap(map);\r\n    if (map) {\r\n      map.render();\r\n    }\r\n  }\r\n\r\n  setEnable(cond: boolean) {\r\n    const elem = this.element as HTMLInputElement;\r\n    if (cond) {\r\n      elem.disabled = false;\r\n    } else {\r\n      elem.disabled = true;\r\n    }\r\n  }\r\n\r\n  setValue(res: number) {\r\n    this.set(\"slidervalue\", res);\r\n    (this.element as HTMLInputElement).value = (1 - res).toString();\r\n  }\r\n}\r\n\r\nexport class CustomControl extends Control {\r\n  center_: any;\r\n  zoom_: any;\r\n  callResetNorth_: any;\r\n  rotation_: any;\r\n  label_: any;\r\n  ui: any;\r\n  moveTo_: boolean = false;\r\n\r\n  constructor(optOptions: ControlOptions) {\r\n    const options = optOptions || {};\r\n    const element = document.createElement(\"div\");\r\n\r\n    super({\r\n      element,\r\n      target: options.target,\r\n      render: options.render\r\n    });\r\n\r\n    const button = document.createElement(\"button\");\r\n    button.setAttribute(\"type\", \"button\");\r\n    button.title = options.tipLabel || \"\";\r\n    const span = document.createElement(\"span\");\r\n    span.innerHTML = (options.character as string) || \"\";\r\n    button.appendChild(span);\r\n    let timer: any;\r\n    let touchstart: any;\r\n    const self = this;\r\n\r\n    button.addEventListener(\"click\", e => {\r\n      e.stopPropagation();\r\n    });\r\n    button.addEventListener(\r\n      \"mouseup\",\r\n      e => {\r\n        if (!touchstart) {\r\n          if (timer) {\r\n            if (options.long_callback) {\r\n              clearTimeout(timer);\r\n            }\r\n            timer = null;\r\n            if (options.callback) options.callback.apply(self as any);\r\n          }\r\n        }\r\n        e.stopPropagation();\r\n      },\r\n      false\r\n    );\r\n    button.addEventListener(\r\n      \"mousemove\",\r\n      e => {\r\n        e.stopPropagation();\r\n      },\r\n      false\r\n    );\r\n    button.addEventListener(\r\n      \"mousedown\",\r\n      e => {\r\n        if (!touchstart) {\r\n          if (options.long_callback) {\r\n            timer = setTimeout(() => {\r\n              timer = null;\r\n              if (options.long_callback) options.long_callback.apply(self as any);\r\n            }, 1500);\r\n          } else {\r\n            timer = true;\r\n          }\r\n        }\r\n        e.stopPropagation();\r\n      },\r\n      false\r\n    );\r\n    button.addEventListener(\r\n      \"touchstart\",\r\n      e => {\r\n        touchstart = true;\r\n        if (options.long_callback) {\r\n          timer = setTimeout(() => {\r\n            timer = null;\r\n            if (options.long_callback) options.long_callback.apply(self as any);\r\n          }, 1500);\r\n        } else {\r\n          timer = true;\r\n        }\r\n        e.stopPropagation();\r\n      },\r\n      false\r\n    );\r\n    button.addEventListener(\r\n      \"touchend\",\r\n      e => {\r\n        if (timer) {\r\n          if (options.long_callback) {\r\n            clearTimeout(timer);\r\n          }\r\n          timer = null;\r\n          if (options.callback) options.callback.apply(self as any);\r\n        }\r\n        e.stopPropagation();\r\n      },\r\n      false\r\n    );\r\n    button.addEventListener(\r\n      \"mouseout\",\r\n      e => {\r\n        if (options.long_callback) {\r\n          clearTimeout(timer);\r\n        }\r\n        timer = null;\r\n        e.stopPropagation();\r\n      },\r\n      false\r\n    );\r\n    button.addEventListener(\r\n      \"dblclick\",\r\n      e => {\r\n        e.preventDefault();\r\n      },\r\n      false\r\n    );\r\n\r\n    element.className = `${options.cls} ol-unselectable ol-control`;\r\n    element.appendChild(button);\r\n  }\r\n}\r\n\r\nexport class GoHome extends CustomControl {\r\n  constructor(optOptions: ControlOptions) {\r\n    const options = optOptions || {};\r\n    options.character = control_settings[\"home\"]\r\n      ? `<img src=\"${control_settings[\"home\"]}\">`\r\n      : getIcon('house', 'far fa-lg');\r\n    options.cls = \"home\";\r\n    options.callback = function () {\r\n      const map = this.getMap();\r\n      if (map) {\r\n        const source = (map.getLayers().item(0) as any).getSource();\r\n        if (source && (source as any).goHome) {\r\n          (source as any).goHome();\r\n        }\r\n      }\r\n    };\r\n    super(options);\r\n    if (control_settings[\"home\"]) {\r\n      const button = this.element.querySelector(\"button\");\r\n      if (button) button.style.backgroundColor = \"rgba(0,0,0,0)\";\r\n    }\r\n  }\r\n}\r\n\r\nexport class SetGPS extends CustomControl {\r\n  constructor(optOptions: ControlOptions) {\r\n    const options = optOptions || {};\r\n    options.character = control_settings[\"gps\"]\r\n      ? `<img src=\"${control_settings[\"gps\"]}\">`\r\n      : getIcon('location-crosshairs', 'far fa-lg');\r\n    options.cls = \"gps\";\r\n    options.render = function (mapEvent: any) {\r\n      const frameState = mapEvent.frameState;\r\n      if (!frameState) {\r\n        return;\r\n      }\r\n      const self = this as any; // Cast to access ui\r\n      const core = self.ui.core as MaplatApp;\r\n      if (core && core.getGPSEnabled) {\r\n        const enabled = core.getGPSEnabled();\r\n        const isDisabled = self.element.classList.contains(\"disable\");\r\n\r\n        if (enabled && isDisabled) {\r\n          self.element.classList.remove(\"disable\");\r\n        } else if (!enabled && !isDisabled) {\r\n          self.element.classList.add(\"disable\");\r\n        }\r\n      }\r\n    };\r\n    options.callback = function () {\r\n      const self = this as any;\r\n      const core = self.ui.core as MaplatApp;\r\n      const currentlyEnabled = core.getGPSEnabled();\r\n      if (core.alwaysGpsOn) {\r\n        core.handleGPS(true);\r\n      } else {\r\n        core.handleGPS(!currentlyEnabled);\r\n      }\r\n    };\r\n\r\n    super(options);\r\n\r\n    this.ui = options.ui;\r\n    this.moveTo_ = false;\r\n\r\n    if (this.ui && this.ui.core) {\r\n      this.ui.core.addEventListener(\"gps_error\", (evt: any) => {\r\n        console.log(\"GPS Error:\", evt);\r\n        const errorMap: any = {\r\n          \"user_gps_deny\": \"app.user_gps_deny\",\r\n          \"gps_miss\": \"app.gps_miss\",\r\n          \"gps_timeout\": \"app.gps_timeout\"\r\n        };\r\n\r\n        this.ui.core.mapDivDocument.querySelector(\".modal_title\").innerText = this.ui.core.t(\"app.gps_error\");\r\n        this.ui.core.mapDivDocument.querySelector(\".modal_gpsD_content\").innerText = this.ui.core.t(errorMap[evt.detail] || \"app.gps_error\");\r\n        const modalElm = this.ui.core.mapDivDocument.querySelector(\".modalBase\")!;\r\n        const modal = new bsn.Modal(modalElm, { root: this.ui.core.mapDivDocument });\r\n        this.ui.modalSetting(\"gpsD\");\r\n        modal.show();\r\n      });\r\n\r\n      this.ui.core.addEventListener(\"gps_result\", (evt: any) => {\r\n        console.log(\"GPS Result:\", evt);\r\n        if (evt.detail && evt.detail.error) {\r\n          const errorMap: any = {\r\n            \"user_gps_deny\": \"app.user_gps_deny\",\r\n            \"gps_miss\": \"app.gps_miss\",\r\n            \"gps_timeout\": \"app.gps_timeout\",\r\n            \"gps_off\": \"app.out_of_map\"\r\n          };\r\n\r\n\r\n          this.ui.core.mapDivDocument.querySelector(\".modal_title\").innerText = this.ui.core.t(\"app.gps_error\");\r\n          this.ui.core.mapDivDocument.querySelector(\".modal_gpsD_content\").innerText = this.ui.core.t(errorMap[evt.detail.error] || \"app.gps_error\");\r\n          const modalElm = this.ui.core.mapDivDocument.querySelector(\".modalBase\")!;\r\n          const modal = new bsn.Modal(modalElm, { root: this.ui.core.mapDivDocument });\r\n          this.ui.modalSetting(\"gpsD\");\r\n          modal.show();\r\n        }\r\n      });\r\n    }\r\n\r\n    if (control_settings[\"gps\"]) {\r\n      const button = this.element.querySelector(\"button\");\r\n      if (button) button.style.backgroundColor = \"rgba(0,0,0,0)\";\r\n    }\r\n  }\r\n}\r\n\r\nexport class CompassRotate extends Rotate {\r\n  center_: any;\r\n  zoom_: any;\r\n  customLabel_: any;\r\n\r\n  constructor(optOptions: ControlOptions) {\r\n    const options = optOptions || {};\r\n    options.autoHide = false;\r\n    const span = document.createElement(\"span\");\r\n    span.innerHTML = control_settings[\"compass\"]\r\n      ? `<img src=\"${control_settings[\"compass\"]}\">`\r\n      : getIcon('compass', 'far fa-lg ol-compass-fa');\r\n    options.label = span;\r\n    options.render = function (mapEvent: any) {\r\n      const frameState = mapEvent.frameState;\r\n      if (!frameState) {\r\n        return;\r\n      }\r\n      const self = this as any; // Cast for custom properties\r\n      const view = self.getMap().getView();\r\n      const rotation = frameState.viewState.rotation;\r\n      const center = view.getCenter();\r\n      const zoom = view.getDecimalZoom();\r\n      if (\r\n        rotation != self.rotation_ ||\r\n        center[0] != self.center_[0] ||\r\n        center[1] != self.center_[1] ||\r\n        zoom != self.zoom_\r\n      ) {\r\n        if (!self.getMap().northUp) {\r\n          const contains = self.element.classList.contains(\"disable\");\r\n          if (!contains && rotation === 0) {\r\n            self.element.classList.add(\"disable\");\r\n          } else if (contains && rotation !== 0) {\r\n            self.element.classList.remove(\"disable\");\r\n          }\r\n        }\r\n\r\n        const layer = self.getMap().getLayers().item(0);\r\n        const source = layer.getSource\r\n          ? layer.getSource()\r\n          : layer.getLayers().item(0).getSource();\r\n        if (!source) {\r\n          const transform = \"rotate(0rad)\";\r\n          self.customLabel_.style.msTransform = transform;\r\n          self.customLabel_.style.webkitTransform = transform;\r\n          self.customLabel_.style.transform = transform;\r\n          return;\r\n        }\r\n        if ((source as any).viewpoint2MercsAsync) {\r\n          (source as any).viewpoint2MercsAsync().then((mercs: any) => {\r\n            const direction = (source as any).mercs2MercViewpoint(mercs)[2];\r\n            const transform = `rotate(${direction}rad)`;\r\n            self.customLabel_.style.msTransform = transform;\r\n            self.customLabel_.style.webkitTransform = transform;\r\n            self.customLabel_.style.transform = transform;\r\n            if (self.getMap().northUp) {\r\n              const contains = self.element.classList.contains(\"disable\");\r\n              if (!contains && Math.abs(direction) < 0.1) {\r\n                self.element.classList.add(\"disable\");\r\n              } else if (contains && Math.abs(direction) >= 0.1) {\r\n                self.element.classList.remove(\"disable\");\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }\r\n      self.rotation_ = rotation;\r\n      self.center_ = center;\r\n      self.zoom_ = zoom;\r\n    }\r\n    super(options);\r\n    this.customLabel_ = span;\r\n  }\r\n}\r\n\r\nexport class Share extends CustomControl {\r\n  constructor(optOptions: ControlOptions) {\r\n    const options = optOptions || {};\r\n    options.character = control_settings[\"share\"]\r\n      ? `<img src=\"${control_settings[\"share\"]}\">`\r\n      : getIcon('share-from-square', 'far fa-lg');\r\n    options.cls = \"ol-share\";\r\n    options.callback = function () {\r\n      const map = this.getMap();\r\n      if (map) map.dispatchEvent(\r\n        new MapEvent(\"click_control\", map, { control: \"share\" } as any)\r\n      );\r\n    };\r\n\r\n    super(options);\r\n    if (control_settings[\"share\"]) {\r\n      const button = this.element.querySelector(\"button\");\r\n      if (button) button.style.backgroundColor = \"rgba(0,0,0,0)\";\r\n    }\r\n  }\r\n}\r\n\r\nexport class Border extends CustomControl {\r\n  constructor(optOptions: ControlOptions) {\r\n    const options = optOptions || {};\r\n    options.character = control_settings[\"border\"]\r\n      ? `<img src=\"${control_settings[\"border\"]}\">`\r\n      : getIcon('layer-group', 'far fa-lg');\r\n    options.cls = \"ol-border\";\r\n    options.callback = function () {\r\n      const map = this.getMap();\r\n      if (map) map.dispatchEvent(\r\n        new MapEvent(\"click_control\", map, { control: \"border\" } as any)\r\n      );\r\n    };\r\n\r\n    super(options);\r\n    if (control_settings[\"border\"]) {\r\n      const button = this.element.querySelector(\"button\");\r\n      if (button) button.style.backgroundColor = \"rgba(0,0,0,0)\";\r\n    }\r\n  }\r\n}\r\n\r\nexport class Maplat extends CustomControl {\r\n  constructor(optOptions: ControlOptions) {\r\n    const options = optOptions || {};\r\n    options.character = control_settings[\"help\"]\r\n      ? `<img src=\"${control_settings[\"help\"]}\">`\r\n      : getIcon('circle-question', 'far fa-lg');\r\n    options.cls = \"ol-maplat\";\r\n    options.callback = function () {\r\n      const map = this.getMap();\r\n      if (map) map.dispatchEvent(\r\n        new MapEvent(\"click_control\", map, { control: \"help\" } as any)\r\n      );\r\n    };\r\n\r\n    super(options);\r\n    if (control_settings[\"help\"]) {\r\n      const button = this.element.querySelector(\"button\");\r\n      if (button) button.style.backgroundColor = \"rgba(0,0,0,0)\";\r\n    }\r\n  }\r\n}\r\n\r\nexport class Copyright extends CustomControl {\r\n  constructor(optOptions: ControlOptions) {\r\n    const options = optOptions || {};\r\n    options.character = control_settings[\"attr\"]\r\n      ? `<img src=\"${control_settings[\"attr\"]}\">`\r\n      : getIcon('circle-info', 'far fa-lg');\r\n    options.cls = \"ol-copyright\";\r\n    options.callback = function () {\r\n      const map = this.getMap();\r\n      if (map) map.dispatchEvent(\r\n        new MapEvent(\"click_control\", map, { control: \"copyright\" } as any)\r\n      );\r\n    };\r\n\r\n    super(options);\r\n    if (control_settings[\"attr\"]) {\r\n      const button = this.element.querySelector(\"button\");\r\n      if (button) button.style.backgroundColor = \"rgba(0,0,0,0)\";\r\n    }\r\n  }\r\n}\r\n\r\nexport class HideMarker extends CustomControl {\r\n  constructor(optOptions: ControlOptions) {\r\n    const options = optOptions || {};\r\n    options.character = control_settings[\"hide_marker\"]\r\n      ? `<img src=\"${control_settings[\"hide_marker\"]}\">`\r\n      : getIcon('map-pin', 'far fa-lg');\r\n    options.cls = \"ol-hide-marker\";\r\n    options.callback = function () {\r\n      const map = this.getMap();\r\n      if (map) map.dispatchEvent(\r\n        new MapEvent(\"click_control\", map, { control: \"hideMarker\" } as any)\r\n      );\r\n    };\r\n\r\n    super(options);\r\n    if (control_settings[\"hide_marker\"]) {\r\n      const button = this.element.querySelector(\"button\");\r\n      if (button) button.style.backgroundColor = \"rgba(0,0,0,0)\";\r\n    }\r\n  }\r\n}\r\n\r\nexport class MarkerList extends CustomControl {\r\n  constructor(optOptions: ControlOptions) {\r\n    const options = optOptions || {};\r\n    options.character = control_settings[\"marker_list\"]\r\n      ? `<img src=\"${control_settings[\"marker_list\"]}\">`\r\n      : getIcon('list', 'far fa-lg');\r\n    options.cls = \"ol-marker-list\";\r\n    options.callback = function () {\r\n      const map = this.getMap();\r\n      if (map) map.dispatchEvent(\r\n        new MapEvent(\"click_control\", map, { control: \"markerList\" } as any)\r\n      );\r\n    };\r\n\r\n    super(options);\r\n    if (control_settings[\"marker_list\"]) {\r\n      const button = this.element.querySelector(\"button\");\r\n      if (button) button.style.backgroundColor = \"rgba(0,0,0,0)\";\r\n    }\r\n  }\r\n}\r\n\r\nexport class Zoom extends BaseZoom {\r\n  constructor(options: ControlOptions = {}) {\r\n    if (control_settings[\"zoom_plus\"]) {\r\n      options.zoomInLabel = createElement(\r\n        `<img src=\"${control_settings[\"zoom_plus\"]}\">`\r\n      )[0] as HTMLElement;\r\n    }\r\n    if (control_settings[\"zoom_minus\"]) {\r\n      options.zoomOutLabel = createElement(\r\n        `<img src=\"${control_settings[\"zoom_minus\"]}\">`\r\n      )[0] as HTMLElement;\r\n    }\r\n\r\n    super(options);\r\n    if (control_settings[\"compass\"]) {\r\n      const buttons = this.element.querySelectorAll(\"button\");\r\n      buttons.forEach(button => {\r\n        button.style.backgroundColor = \"rgba(0,0,0,0)\";\r\n      });\r\n    }\r\n  }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\pointer_images.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Do not use \"@ts-nocheck\" because it alters compilation errors.","line":1,"column":1,"nodeType":"Line","messageId":"tsDirectiveComment","endLine":1,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// @ts-nocheck\r\nimport { assets } from \"@maplat/core\";\r\nimport Maplat from \"../assets/parts/Maplat.png\";\r\nimport allright from \"../assets/parts/all_right_reserved.png\";\r\nimport attr from \"../assets/parts/attr.png\";\r\nimport basemap from \"../assets/parts/basemap.png\";\r\nimport border from \"../assets/parts/border.png\";\r\nimport cc0 from \"../assets/parts/cc0.png\";\r\nimport ccbnn from \"../assets/parts/cc_by-nc-nd.png\";\r\nimport ccbns from \"../assets/parts/cc_by-nc-sa.png\";\r\nimport ccbnc from \"../assets/parts/cc_by-nc.png\";\r\nimport ccbnd from \"../assets/parts/cc_by-nd.png\";\r\nimport ccbs from \"../assets/parts/cc_by-sa.png\";\r\nimport ccb from \"../assets/parts/cc_by.png\";\r\nimport compass from \"../assets/parts/compass.png\";\r\nimport favicon from \"../assets/parts/favicon.png\";\r\nimport fullscreen from \"../assets/parts/fullscreen.png\";\r\nimport gps from \"../assets/parts/gps.png\";\r\nimport help from \"../assets/parts/help.png\";\r\nimport hide from \"../assets/parts/hide_marker.png\";\r\nimport list from \"../assets/parts/marker_list.png\";\r\nimport home from \"../assets/parts/home.png\";\r\nimport loading from \"../assets/parts/loading.png\";\r\nimport loading_i from \"../assets/parts/loading_image.png\";\r\nimport minus from \"../assets/parts/minus.png\";\r\nimport noimg from \"../assets/parts/no_image.png\";\r\nimport overlay from \"../assets/parts/overlay.png\";\r\nimport pd from \"../assets/parts/pd.png\";\r\nimport plus from \"../assets/parts/plus.png\";\r\nimport share from \"../assets/parts/share.png\";\r\nimport slider from \"../assets/parts/slider.png\";\r\n\r\n\r\nexport default {\r\n  \"Maplat.png\": Maplat,\r\n  \"all_right_reserved.png\": allright,\r\n  \"attr.png\": attr,\r\n  \"basemap.png\": basemap,\r\n  \"bluedot.png\": assets.bluedot,\r\n  \"bluedot_transparent.png\": assets.bluedot_transparent,\r\n  \"bluedot_small.png\": assets.bluedot_small,\r\n  \"border.png\": border,\r\n  \"cc0.png\": cc0,\r\n  \"cc_by-nc-nd.png\": ccbnn,\r\n  \"cc_by-nc-sa.png\": ccbns,\r\n  \"cc_by-nc.png\": ccbnc,\r\n  \"cc_by-nd.png\": ccbnd,\r\n  \"cc_by-sa.png\": ccbs,\r\n  \"cc_by.png\": ccb,\r\n  \"compass.png\": compass,\r\n  \"defaultpin.png\": assets.defaultpin,\r\n  \"defaultpin_selected.png\": assets.defaultpin_selected,\r\n  \"favicon.png\": favicon,\r\n  \"fullscreen.png\": fullscreen,\r\n  \"gps.png\": gps,\r\n  \"gsi.jpg\": assets.gsi,\r\n  \"gsi_ortho.jpg\": assets.gsi_ortho,\r\n  \"help.png\": help,\r\n  \"hide_marker.png\": hide,\r\n  \"marker_list.png\": list,\r\n  \"home.png\": home,\r\n  \"loading.png\": loading,\r\n  \"loading_image.png\": loading_i,\r\n  \"minus.png\": minus,\r\n  \"no_image.png\": noimg,\r\n  \"osm.jpg\": assets.osm,\r\n  \"overlay.png\": overlay,\r\n  \"pd.png\": pd,\r\n  \"plus.png\": plus,\r\n  \"redcircle.png\": assets.redcircle,\r\n  \"share.png\": share,\r\n  \"slider.png\": slider\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\swiper_augment.d.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[99,102],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[99,102],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[141,144],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[141,144],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[293,296],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[293,296],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[363,366],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[363,366],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import 'swiper';\r\n\r\ndeclare module 'swiper' {\r\n    interface Swiper {\r\n        slideToMapID(mapID: any): void;\r\n        setSlideMapID(mapID: any): void;\r\n        setSlideIndex(index: number): void;\r\n        setSlideIndexAsSelected(index: number): void;\r\n        setSlideMapIDAsSelected(mapID: any): void;\r\n        slideToIndex(index: number): void;\r\n        $el: any;\r\n    }\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\swiper_ex.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":1,"column":1,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":1,"endColumn":14,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[0,13],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[96,99],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[96,99],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[610,613],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[610,613],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[869,872],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[869,872],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1002,1005],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1002,1005],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1145,1148],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1145,1148],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":48,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1542,1545],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1542,1545],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// @ts-ignore\r\nimport Swiper from \"swiper\";\r\n\r\nSwiper.prototype.slideToMapID = function (mapID: any) {\r\n  const slide = this.$el[0].querySelector(\".swiper-slide-active\");\r\n  if (slide && slide.getAttribute(\"data\") == mapID) return;\r\n\r\n  const sliders = this.$el[0].querySelectorAll(\".swiper-slide\");\r\n  for (let i = 0; i < sliders.length; i++) {\r\n    const slider = sliders[i];\r\n    if (slider.getAttribute(\"data\") == mapID) {\r\n      return this.slideToLoop(\r\n        parseInt(slider.getAttribute(\"data-swiper-slide-index\") || \"0\")\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nSwiper.prototype.slideToIndex = function (index: any) {\r\n  const slide = this.$el[0].querySelector(\".swiper-slide-active\");\r\n  if (slide && parseInt(slide.getAttribute(\"data-swiper-slide-index\") || \"0\") == index) return;\r\n\r\n  this.slideToLoop(index);\r\n};\r\n\r\nSwiper.prototype.setSlideMapID = function (mapID: any) {\r\n  this.slideToMapID(mapID);\r\n  this.setSlideMapIDAsSelected(mapID);\r\n};\r\n\r\nSwiper.prototype.setSlideIndex = function (index: any) {\r\n  this.slideToIndex(index);\r\n  this.setSlideIndexAsSelected(index);\r\n};\r\n\r\nSwiper.prototype.setSlideIndexAsSelected = function (index: any) {\r\n  const sliders = this.$el[0].querySelectorAll(\".swiper-slide\");\r\n  for (let i = 0; i < sliders.length; i++) {\r\n    const slider = sliders[i];\r\n    if (slider.getAttribute(\"data-swiper-slide-index\") == index) {\r\n      slider.classList.add(\"selected\");\r\n    } else {\r\n      slider.classList.remove(\"selected\");\r\n    }\r\n  }\r\n};\r\n\r\nSwiper.prototype.setSlideMapIDAsSelected = function (mapID: any) {\r\n  const sliders = this.$el[0].querySelectorAll(\".swiper-slide\");\r\n  for (let i = 0; i < sliders.length; i++) {\r\n    const slider = sliders[i];\r\n    if (slider.getAttribute(\"data\") == mapID) {\r\n      slider.classList.add(\"selected\");\r\n    } else {\r\n      slider.classList.remove(\"selected\");\r\n    }\r\n  }\r\n};\r\n\r\nexport { Swiper };\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\types.d.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[911,914],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[911,914],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[949,952],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[949,952],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"declare module '@maplat/core/dist/*';\r\ndeclare module '@maplat/core/lib/*';\r\ndeclare module '@c4h/weiwudi';\r\ndeclare module 'izitoast';\r\ndeclare module 'page';\r\ndeclare module 'qrcode';\r\ndeclare module 'sprintf-js';\r\ndeclare module 'ol/color';\r\ndeclare module 'ol/color.js';\r\ndeclare module 'ol/pixel';\r\ndeclare module 'ol/source/Vector.js';\r\ndeclare module 'ol/proj.js';\r\ndeclare module 'ol/style.js';\r\ndeclare module 'ol/Feature.js';\r\ndeclare module 'ol/geom/Point.js';\r\ndeclare module 'ol/geom/LineString.js';\r\ndeclare module 'ol/geom/Circle.js';\r\ndeclare module 'ol/sphere.js';\r\ndeclare module 'ol/events.js';\r\ndeclare module 'ol/events/Target.js';\r\ndeclare module 'bootstrap.native/dist/bootstrap-native-v4';\r\ndeclare module './pointer_images';\r\ndeclare module './function';\r\ndeclare module './absolute_url';\r\ndeclare module '*.svg';\r\ndeclare module '@turf/turf';\r\n\r\ninterface Window {\r\n    __WB_MANIFEST: any;\r\n}\r\ndeclare const __WB_MANIFEST: any;\r\n\r\n\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":131,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":131,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3362,3365],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3362,3365],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":139,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3608,3611],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3608,3611],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":151,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":151,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3938,3941],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3938,3941],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":151,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":151,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3950,3953],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3950,3953],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":152,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":152,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3976,3979],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3976,3979],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":168,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":168,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4355,4358],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4355,4358],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":168,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":168,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4367,4370],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4367,4370],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":169,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":169,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4393,4396],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4393,4396],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Type definitions for Maplat UI\r\n\r\nimport { Swiper as SwiperClass } from 'swiper';\r\nimport type { Control } from 'ol/control';\r\n\r\nexport interface MaplatAppOption {\r\n    appid?: string;\r\n    fake?: boolean;\r\n    pwaManifest?: boolean | string;\r\n    pwaWorker?: string;\r\n    pwaScope?: string;\r\n    overlay?: boolean;\r\n    enableHideMarker?: boolean;\r\n    enableMarkerList?: boolean;\r\n    enableBorder?: boolean;\r\n    enableCache?: boolean;\r\n    stateUrl?: boolean;\r\n    enableShare?: boolean;\r\n    enablePoiHtmlNoScroll?: boolean;\r\n    disableNoimage?: boolean;\r\n    alwaysGpsOn?: boolean;\r\n    mobileIF?: boolean;\r\n    debug?: boolean;\r\n    appEnvelope?: boolean;\r\n    mapboxToken?: string;\r\n    googleApiKey?: string;\r\n    lang?: string;\r\n    restore?: RestoreState;\r\n    restoreSession?: boolean;\r\n    presentationMode?: boolean;\r\n    northTop?: boolean;\r\n    mapboxgl?: unknown;\r\n    maplibregl?: unknown;\r\n    markerList?: boolean;\r\n    icon?: string;\r\n    translateUI?: boolean;\r\n}\r\n\r\nexport interface RestoreState {\r\n    mapID?: string;\r\n    backgroundID?: string;\r\n    transparency?: number;\r\n    position?: {\r\n        rotation?: number;\r\n        zoom?: number;\r\n        x?: number;\r\n        y?: number;\r\n    };\r\n    showBorder?: boolean;\r\n    hideMarker?: boolean;\r\n    hideLayer?: string;\r\n    openedMarker?: string;\r\n}\r\n\r\nexport interface MapSource {\r\n    mapID: string;\r\n    title?: string;\r\n    officialTitle?: string;\r\n    label?: string;\r\n    width?: number;\r\n    height?: number;\r\n    envelope?: {\r\n        geometry: {\r\n            coordinates: number[][][];\r\n        };\r\n    };\r\n    envelopeColor?: string;\r\n    envelopeAreaIndex?: number;\r\n    xy2SysCoord?: (xy: number[]) => Promise<number[]> | number[];\r\n    thumbnail?: string;\r\n}\r\n\r\nexport interface MarkerData {\r\n    markerId: string;\r\n    lnglat?: number[];\r\n    title?: string;\r\n    icon?: string;\r\n    description?: string;\r\n    images?: string[];\r\n    image?: string | string[] | { src: string; desc?: string }[];\r\n    address?: string;\r\n    desc?: string;\r\n    url?: string;\r\n    html?: string;\r\n    directgo?: string | { href: string; blank?: boolean };\r\n    namespaceID?: string;\r\n    name?: string;\r\n}\r\n\r\nexport interface ClickMarkersEvent {\r\n    pixel: number[];\r\n    coord: number[];\r\n    list: MarkerData[];\r\n}\r\n\r\nexport interface ContextMenuInterface {\r\n    clear: () => void;\r\n    extend: (items: unknown[]) => void;\r\n    on: (event: string, handler: (e: unknown) => void) => void;\r\n    un: (event: string, handler: (e: unknown) => void) => void;\r\n    Internal?: {\r\n        openMenu: (pixel: number[], coord: number[]) => void;\r\n        closeMenu: () => void;\r\n        opened: boolean;\r\n    };\r\n}\r\n\r\nexport interface ClickMarkersEvent {\r\n    pixel: number[];\r\n    coord: number[];\r\n    list: MarkerData[];\r\n}\r\n\r\nexport type EventCallback = (event: unknown) => void;\r\nexport type SwiperInstance = SwiperClass;\r\nexport type SliderControl = Control & {\r\n    get(prop: string): number;\r\n    set(prop: string, value: number): void;\r\n    element?: HTMLElement; // Changed from HTMLInputElement to HTMLElement to match common control pattern or just optional\r\n    setEnable(flag: boolean): void;\r\n};\r\n\r\nexport interface RGB {\r\n    red: number;\r\n    green: number;\r\n    blue: number;\r\n}\r\n\r\nexport interface ControlOptions {\r\n    target?: HTMLElement | string;\r\n    render?: (event: any) => void;\r\n    className?: string;\r\n    tipLabel?: string;\r\n    initialValue?: number;\r\n    character?: string | HTMLElement;\r\n    callback?: (this: Control) => void;\r\n    long_callback?: (this: Control) => void;\r\n    cls?: string;\r\n    ui?: any;\r\n    zoomInLabel?: string | HTMLElement;\r\n    zoomOutLabel?: string | HTMLElement;\r\n    autoHide?: boolean;\r\n    label?: string | HTMLElement;\r\n    reverse?: boolean;\r\n}\r\n\r\nexport interface ContextMenuItem {\r\n    text?: string;\r\n    classname?: string;\r\n    icon?: string;\r\n    callback?: (obj: { coordinate: number[]; data: any }, map: any) => void;\r\n    data?: any;\r\n    items?: ContextMenuItem[];\r\n    separator?: boolean;\r\n}\r\n\r\nexport interface ContextMenuOptions {\r\n    width?: number;\r\n    defaultItems?: boolean;\r\n    items?: ContextMenuItem[];\r\n    eventType?: string;\r\n}\r\n\r\nexport interface ContextMenuInternalItem {\r\n    id: string;\r\n    submenu: number;\r\n    separator: boolean;\r\n    callback?: (obj: { coordinate: number[]; data: any }, map: any) => void;\r\n    data?: any;\r\n}\r\n\r\nexport interface ContextMenuEvent {\r\n    type: string;\r\n    pixel?: number[];\r\n    coordinate?: number[];\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\ui_init.ts","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":30,"column":1,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":30,"endColumn":14,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[730,743],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleMarkerAction' is defined but never used.","line":31,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":31,"endColumn":28},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'showContextMenu' is defined but never used.","line":31,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":31,"endColumn":45},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":77,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":77,"endColumn":22,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[2218,2231],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":81,"column":13,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":81,"endColumn":26,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[2456,2469],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":207,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":207,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6888,6891],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6888,6891],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":267,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":267,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9519,9522],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9519,9522],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":338,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":338,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15738,15741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15738,15741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":384,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":384,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":445,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":445,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20074,20077],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20074,20077],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":506,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":506,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[22251,22254],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[22251,22254],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":536,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":536,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23556,23559],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23556,23559],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":598,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":598,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[25664,25667],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[25664,25667],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":601,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":601,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[26064,26067],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[26064,26067],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":608,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":608,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[26340,26343],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[26340,26343],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":639,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":639,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[27732,27735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[27732,27735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":640,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":640,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[27775,27778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[27775,27778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":671,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":671,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28777,28780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28777,28780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":705,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":705,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[30054,30057],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[30054,30057],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":721,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":721,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[30835,30838],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[30835,30838],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":732,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":732,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[31464,31467],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[31464,31467],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":751,"column":80,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":751,"endColumn":83,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32235,32238],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32235,32238],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":757,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":757,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32500,32503],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32500,32503],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":762,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":762,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32682,32685],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32682,32685],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":763,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":763,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32728,32731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32728,32731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":765,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":765,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32820,32823],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32820,32823],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":777,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":777,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[33210,33213],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[33210,33213],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":805,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":805,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34501,34504],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34501,34504],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":805,"column":92,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":805,"endColumn":95,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34514,34517],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34514,34517],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":813,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":813,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34858,34861],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34858,34861],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":813,"column":92,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":813,"endColumn":95,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[34871,34874],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[34871,34874],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":831,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":831,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[35543,35546],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[35543,35546],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":837,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":837,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[35923,35926],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[35923,35926],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":859,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":859,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[37078,37081],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[37078,37081],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":877,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":877,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[37841,37844],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[37841,37844],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":882,"column":89,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":882,"endColumn":92,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[38223,38226],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[38223,38226],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":889,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":889,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[38615,38618],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[38615,38618],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":923,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":923,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[40276,40279],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[40276,40279],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":923,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":923,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[40299,40302],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[40299,40302],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":923,"column":105,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":923,"endColumn":108,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[40331,40334],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[40331,40334],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":929,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":929,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[40624,40627],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[40624,40627],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":929,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":929,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[40647,40650],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[40647,40650],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":929,"column":96,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":929,"endColumn":99,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[40675,40678],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[40675,40678],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":950,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":950,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[41927,41930],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[41927,41930],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":957,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":957,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[42241,42244],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[42241,42244],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":384,"column":21,"nodeType":"BlockStatement","messageId":"unexpected","endLine":384,"endColumn":24,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[17144,17145],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\..","line":412,"column":45,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":412,"endColumn":46,"suggestions":[{"messageId":"removeEscape","fix":{"range":[18297,18298],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[18297,18297],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\/.","line":412,"column":47,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":412,"endColumn":48,"suggestions":[{"messageId":"removeEscape","fix":{"range":[18299,18300],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[18299,18299],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-useless-escape","severity":2,"message":"Unnecessary escape character: \\-.","line":412,"column":49,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":412,"endColumn":50,"suggestions":[{"messageId":"removeEscape","fix":{"range":[18301,18302],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[18301,18301],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":42,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport {\r\n    MaplatApp as Core,\r\n    createElement\r\n} from \"@maplat/core\";\r\nimport { Control } from \"ol/control\";\r\nimport * as bsn from \"bootstrap.native\";\r\nimport pointer from \"./pointer_images\";\r\nimport { Swiper } from \"./swiper_ex\";\r\nimport { Navigation, Pagination } from \"swiper\";\r\nimport \"swiper/swiper-bundle.css\";\r\nimport {\r\n    SliderNew,\r\n    Copyright,\r\n    CompassRotate,\r\n    Zoom,\r\n    SetGPS,\r\n    GoHome,\r\n    Maplat,\r\n    Share,\r\n    Border,\r\n    HideMarker,\r\n    MarkerList\r\n} from \"./maplat_control\";\r\nimport ContextMenu from './contextmenu';\r\nimport Weiwudi from '@c4h/weiwudi';\r\nimport absoluteUrl from \"./absolute_url\";\r\nimport * as QRCode from \"qrcode\";\r\nimport { ellips, isBasemap } from \"./ui_utils\";\r\n// @ts-ignore\r\nimport { handleMarkerAction, showContextMenu, poiWebControl } from \"./ui_marker\";\r\nimport type { MaplatUi } from \"./index\";\r\nimport type { MaplatAppOption, MapSource, MarkerData, ContextMenuInterface, ControlOptions } from \"./types\";\r\n\r\nSwiper.use([Navigation, Pagination]);\r\n\r\nexport const META_KEYS = [\r\n    \"title\",\r\n    \"officialTitle\",\r\n    \"author\",\r\n    \"epoch\",\r\n    \"createdAt\",\r\n    \"era\",\r\n    \"contributor\",\r\n    \"mapper\",\r\n    \"license\",\r\n    \"dataLicense\",\r\n    \"attr\",\r\n    \"dataAttr\",\r\n    \"reference\",\r\n    \"description\"\r\n];\r\n\r\nexport async function uiInit(ui: MaplatUi, appOption: MaplatAppOption) {\r\n    appOption.translateUI = true;\r\n    ui.core = new Core(appOption);\r\n    if (appOption.icon) {\r\n        (pointer as Record<string, string>)[\"defaultpin.png\"] = appOption.icon;\r\n    }\r\n\r\n    const restore = appOption.restore;\r\n    if (restore) {\r\n        ui.setShowBorder(restore.showBorder || false);\r\n        if (restore.hideMarker) {\r\n            ui.core!.waitReady.then(() => {\r\n                ui.setHideMarker(restore.hideMarker!);\r\n            });\r\n        }\r\n        if (appOption.restore?.openedMarker) {\r\n            console.log(appOption.restore.openedMarker);\r\n            ui.core!.waitReady.then(() => {\r\n                console.log(`Timeout ${appOption.restore!.openedMarker} `);\r\n                ui.handleMarkerActionById(appOption.restore!.openedMarker!);\r\n            });\r\n        }\r\n    } else if (appOption.restoreSession) {\r\n        // @ts-ignore\r\n        const lastEpoch = parseInt((localStorage.getItem(\"epoch\") || \"0\"), 10);\r\n        const currentTime = Math.floor(new Date().getTime() / 1000);\r\n        if (lastEpoch && currentTime - lastEpoch < 3600) {\r\n            // @ts-ignore\r\n            ui.setShowBorder(!!parseInt((localStorage.getItem(\"showBorder\") || \"0\"), 10));\r\n        }\r\n        if (ui.core!.initialRestore.hideMarker) {\r\n            ui.core!.waitReady.then(() => {\r\n                ui.setHideMarker(true);\r\n            });\r\n        }\r\n    } else {\r\n        ui.setShowBorder(false);\r\n    }\r\n\r\n    const enableSplash = !ui.core!.initialRestore.mapID;\r\n    const restoreTransparency = ui.core!.initialRestore.transparency || (appOption.restore ? appOption.restore.transparency : undefined);\r\n    const enableOutOfMap = !appOption.presentationMode;\r\n\r\n    ui.enablePoiHtmlNoScroll = appOption.enablePoiHtmlNoScroll || false;\r\n    if (appOption.enableShare) {\r\n        ui.core!.mapDivDocument!.classList.add(\"enable_share\");\r\n        ui.enableShare = true;\r\n    }\r\n    if (appOption.enableHideMarker) {\r\n        ui.core!.mapDivDocument!.classList.add(\"enable_hide_marker\");\r\n        ui.enableHideMarker = true;\r\n    }\r\n    if (appOption.enableBorder) {\r\n        ui.core!.mapDivDocument!.classList.add(\"enable_border\");\r\n        ui.enableBorder = true;\r\n    }\r\n    if (appOption.enableMarkerList) {\r\n        ui.core!.mapDivDocument!.classList.add(\"enable_marker_list\");\r\n        ui.enableMarkerList = true;\r\n    }\r\n    if (appOption.disableNoimage) {\r\n        ui.disableNoimage = true;\r\n    }\r\n    if (appOption.stateUrl) {\r\n        ui.core!.mapDivDocument!.classList.add(\"state_url\");\r\n    }\r\n    if (appOption.alwaysGpsOn) {\r\n        ui.alwaysGpsOn = true;\r\n    }\r\n    if (ui.core!.enableCache) {\r\n        ui.core!.mapDivDocument!.classList.add(\"enable_cache\");\r\n    }\r\n    if (\"ontouchstart\" in window) {\r\n\r\n        ui.core!.mapDivDocument!.classList.add(\"ol-touch\");\r\n        ui.isTouch = true;\r\n    }\r\n    if (appOption.mobileIF) {\r\n        appOption.debug = true;\r\n    }\r\n    if (appOption.appEnvelope) {\r\n        ui.appEnvelope = true;\r\n    }\r\n\r\n    // Inject Custom Toast Styles\r\n    const style = document.createElement(\"style\");\r\n    style.innerHTML = `\r\n      .custom-toast {\r\n        visibility: hidden;\r\n        min-width: 250px;\r\n        margin-left: -125px;\r\n        background-color: #333;\r\n        color: #fff;\r\n        text-align: center;\r\n        border-radius: 2px;\r\n        padding: 16px;\r\n        position: fixed;\r\n        z-index: 9999;\r\n        left: 50%;\r\n        bottom: 30px;\r\n        font-size: 17px;\r\n        opacity: 0;\r\n        transition: opacity 0.3s;\r\n      }\r\n      .custom-toast.show {\r\n        visibility: visible;\r\n        opacity: 1;\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n\r\n    let pwaManifest = appOption.pwaManifest;\r\n    let pwaWorker = appOption.pwaWorker;\r\n    let pwaScope = appOption.pwaScope;\r\n\r\n    // Inject FontAwesome CDN for reliable icons (REMOVED)\r\n    // Icons: Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0)\r\n\r\n    // Add UI HTML Element\r\n    let newElems = createElement(`<d c=\"ol-control map-title\"><s></s></d>\r\n  <d c=\"swiper-container ol-control base-swiper prevent-default-ui\">\r\n    <d c=\"swiper-wrapper\"> </d>\r\n      <d c=\"swiper-button-next base-next swiper-button-white\"> </d>\r\n        <d c=\"swiper-button-prev base-prev swiper-button-white\"> </d>\r\n          </d>\r\n          <d c=\"swiper-container ol-control overlay-swiper prevent-default-ui\">\r\n            <d c=\"swiper-wrapper\"> </d>\r\n              <d c=\"swiper-button-next overlay-next swiper-button-white\"> </d>\r\n                <d c=\"swiper-button-prev overlay-prev swiper-button-white\"> </d>\r\n                  </d> `);\r\n    for (let i = newElems.length - 1; i >= 0; i--) {\r\n        ui.core!.mapDivDocument!.insertBefore(\r\n            newElems[i],\r\n            ui.core!.mapDivDocument!.firstChild\r\n        );\r\n    }\r\n\r\n    // Delegated event listener for share buttons\r\n    ui.core!.mapDivDocument!.addEventListener(\"click\", (evt: Event) => {\r\n        const target = evt.target as HTMLElement;\r\n        const btn = target.closest(\".share\");\r\n        if (!btn) return;\r\n\r\n        console.log(\"Share button clicked:\", btn);\r\n        const cmd = btn.getAttribute(\"data\");\r\n        if (!cmd) return;\r\n        const cmds = cmd.split(\"_\");\r\n        const uri = ui.getShareUrl(cmds[1] || \"app\");\r\n\r\n        console.log(\"Share URI:\", uri);\r\n\r\n        if (cmds[0] === \"cp\") {\r\n            const bodyElm = document.querySelector(\"body\")!;\r\n            const core = ui.core as any;\r\n            const message = core.t ? core.t(\"app.copy_toast\") : \"URL Copied\";\r\n            if (navigator.clipboard) {\r\n                navigator.clipboard.writeText(uri).then(() => {\r\n                    ui.showToast(message, btn as HTMLElement);\r\n                });\r\n            } else {\r\n                const copyFrom = document.createElement(\"textarea\");\r\n                copyFrom.textContent = uri;\r\n                bodyElm.appendChild(copyFrom);\r\n                copyFrom.select();\r\n                document.execCommand(\"copy\");\r\n                bodyElm.removeChild(copyFrom);\r\n                ui.showToast(message, btn as HTMLElement);\r\n            }\r\n        } else if (cmds[0] === \"tw\") {\r\n            const text = document.title;\r\n            const twuri = `https://twitter.com/intent/tweet?url=${encodeURIComponent(uri)}&text=${encodeURIComponent(text)}&hashtags=Maplat`;\r\n            window.open(twuri, \"_blank\");\r\n        } else if (cmds[0] === \"fb\") {\r\n            const fburi = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(uri)}&display=popup&ref=plugin&src=like&kid_directed_site=0`;\r\n            window.open(fburi, \"_blank\", \"width=650,height=450,menubar=no,toolbar=no,scrollbars=yes\");\r\n        }\r\n    });\r\n\r\n    const prevDefs = ui.core!.mapDivDocument!.querySelectorAll(\r\n        \".prevent-default-ui\"\r\n    );\r\n    for (let i = 0; i < prevDefs.length; i++) {\r\n        const target = prevDefs[i];\r\n        target.addEventListener(\"touchstart\", (evt: Event) => {\r\n            evt.preventDefault();\r\n        });\r\n    }\r\n\r\n    newElems = createElement(`<d c=\"modal modalBase\" tabindex=\"-1\" role=\"dialog\"\r\n    aria-labelledby=\"staticModalLabel\" aria-hidden=\"true\" data-show=\"true\" data-keyboard=\"false\"\r\n    data-backdrop=\"static\">\r\n  <d c=\"modal-dialog\">\r\n    <d c=\"modal-content\">\r\n      <d c=\"modal-header\">\r\n        <button type=\"button\" c=\"close\" data-dismiss=\"modal\">\r\n          <s aria-hidden=\"true\">&#215;</s><s c=\"sr-only\" din=\"html.close\"></s>\r\n        </button>\r\n        <h4 c=\"modal-title\">\r\n\r\n          <s c=\"modal_title\"></s>\r\n          <s c=\"modal_load_title\"></s>\r\n          <s c=\"modal_gpsW_title\" din=\"html.acquiring_gps\"></s>\r\n          <s c=\"modal_help_title\" din=\"html.help_title\"></s>\r\n          <s c=\"modal_share_title\" din=\"html.share_title\"></s>\r\n          <s c=\"modal_marker_list_title\" din=\"html.marker_list_title\"></s>\r\n\r\n        </h4>\r\n      </d> \r\n      <d c=\"modal-body\">\r\n\r\n        <d c=\"modal_help_content\">\r\n          <d c=\"help_content\">\r\n            <s dinh=\"html.help_using_maplat\"></s>\r\n            <p c=\"col-xs-12 help_img\"><img src=\"${(pointer as any)[\"fullscreen.png\"]\r\n        }\"></p>\r\n            <h4 din=\"html.help_operation_title\"></h4>\r\n            <p dinh=\"html.help_operation_content\" c=\"recipient\"></p>\r\n            <h4 din=\"html.help_selection_title\"></h4>\r\n            <p dinh=\"html.help_selection_content\" c=\"recipient\"></p>\r\n            <h4 din=\"html.help_gps_title\"></h4>\r\n            <p dinh=\"html.help_gps_content\" c=\"recipient\"></p>\r\n            <h4 din=\"html.help_poi_title\"></h4>\r\n            <p dinh=\"html.help_poi_content\" c=\"recipient\"></p>\r\n            <h4 din=\"html.help_etc_title\"></h4>\r\n            <ul>\r\n              <li dinh=\"html.help_etc_attr\" c=\"recipient\"></li>\r\n              <li dinh=\"html.help_etc_help\" c=\"recipient\"></li>\r\n              <s c=\"share_help\"><li dinh=\"html.help_share_help\" c=\"recipient\"></li></s>\r\n              <s c=\"border_help\"><li dinh=\"html.help_etc_border\" c=\"recipient\"></li></s>\r\n              <s c=\"hide_marker_help\"><li dinh=\"html.help_etc_hide_marker\" c=\"recipient\"></li></s>\r\n              <s c=\"marker_list_help\"><li dinh=\"html.help_etc_marker_list\" c=\"recipient\"></li></s>\r\n              <li dinh=\"html.help_etc_slider\" c=\"recipient\"></li>\r\n            </ul>\r\n            <p><a href=\"https://www.maplat.jp/\" target=\"_blank\">Maplat</a>\r\n               2015- Kohei Otsuka, Code for History</p>\r\n          </d> \r\n        </d> \r\n\r\n        <d c=\"modal_poi_content\">\r\n          <d c=\"poi_web_div\"></d>\r\n          <d c=\"modal_share_poi\"></d>\r\n          <p><img src=\"\" height=\"0px\" width=\"0px\"></p>\r\n        </d> \r\n\r\n        <div class=\"modal_share_content\">\r\n          <h4 din=\"html.share_app_title\"></h4>\r\n          <div id=\"___maplat_app_toast_${ui.html_id_seed}\"></div>\r\n          <div class=\"recipient row\">\r\n            <div class=\"form-group col-xs-4 text-center\"><button title=\"Copy to clipboard\" class=\"share btn btn-light\" data=\"cp_app\"><svg style=\"width:14px;height:14px;vertical-align:text-bottom;\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M224 0c-35.3 0-64 28.7-64 64V96H96c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384h64c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM288 384H96V160H224c0-17.7 14.3-32 32-32h64V256c0 17.7 14.3 32 32 32h96V384H288z\"/></svg>&nbsp;<small din=\"html.share_copy\"></small></button></div>\r\n            <div class=\"form-group col-xs-4 text-center\"><button title=\"Twitter\" class=\"share btn btn-light\" data=\"tw_app\"><svg style=\"width:14px;height:14px;vertical-align:text-bottom;\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z\"/></svg>&nbsp;<small>Twitter</small></button></div>\r\n            <div class=\"form-group col-xs-4 text-center\"><button title=\"Facebook\" class=\"share btn btn-light\" data=\"fb_app\"><svg style=\"width:14px;height:14px;vertical-align:text-bottom;\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M504 256C504 119 393 8 256 8S8 119 8 256c0 121.3 87.1 222.4 203 240.5V327.9h-61v-71.9h61V203c0-60.8 35.8-93.7 89.2-93.7 25.5 0 50.4 1.8 56.1 2.6v62.4h-35.4c-29.5 0-37.4 18.2-37.4 42.1v59.6h68.9l-11 71.9h-57.9V496.5C416.9 478.4 504 377.3 504 256z\"/></svg>&nbsp;<small>Facebook</small></button></div>\r\n          </div>\r\n          <div class=\"qr_app center-block\" style=\"width:128px;\"></div>\r\n          <div class=\"modal_share_state\">\r\n            <h4 din=\"html.share_state_title\"></h4>\r\n            <div id=\"___maplat_view_toast_${ui.html_id_seed}\"></div>\r\n            <div class=\"recipient row\">\r\n              <div class=\"form-group col-xs-4 text-center\"><button title=\"Copy to clipboard\" class=\"share btn btn-light\" data=\"cp_view\"><svg style=\"width:14px;height:14px;vertical-align:text-bottom;\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M224 0c-35.3 0-64 28.7-64 64V96H96c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384h64c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM288 384H96V160H224c0-17.7 14.3-32 32-32h64V256c0 17.7 14.3 32 32 32h96V384H288z\"/></svg>&nbsp;<small din=\"html.share_copy\"></small></button></div>\r\n              <div class=\"form-group col-xs-4 text-center\"><button title=\"Twitter\" class=\"share btn btn-light\" data=\"tw_view\"><svg style=\"width:14px;height:14px;vertical-align:text-bottom;\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z\"/></svg>&nbsp;<small>Twitter</small></button></div>\r\n              <div class=\"form-group col-xs-4 text-center\"><button title=\"Facebook\" class=\"share btn btn-light\" data=\"fb_view\"><svg style=\"width:14px;height:14px;vertical-align:text-bottom;\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M504 256C504 119 393 8 256 8S8 119 8 256c0 121.3 87.1 222.4 203 240.5V327.9h-61v-71.9h61V203c0-60.8 35.8-93.7 89.2-93.7 25.5 0 50.4 1.8 56.1 2.6v62.4h-35.4c-29.5 0-37.4 18.2-37.4 42.1v59.6h68.9l-11 71.9h-57.9V496.5C416.9 478.4 504 377.3 504 256z\"/></svg>&nbsp;<small>Facebook</small></button></div>\r\n            </div>\r\n            <div class=\"qr_view center-block\" style=\"width:128px;\"></div>\r\n          </div>\r\n          <p><img src=\"\" height=\"0px\" width=\"0px\"></p>\r\n        </div>\r\n\r\n        <d c=\"modal_map_content\">\r\n            ${META_KEYS.map(key => {\r\n            if (key == \"title\" || key == \"officialTitle\") return \"\";\r\n            return `<d c=\"recipients ${key}_div\"><dl c=\"dl-horizontal\">\r\n                      <dt din=\"html.${key}\"></dt>\r\n                      <dd c=\"${key}_dd\"></dd>\r\n                    </dl></d> `;\r\n        }).join(\"\")}\r\n          <d c=\"recipients modal_cache_content\"><dl c=\"dl-horizontal\">\r\n            <dt din=\"html.cache_handle\"></dt>\r\n            <dd><s c=\"cache_size\"></s></dd>\r\n            <dt></dt>\r\n            <dd><s c=\"pull-right\"><button c=\"cache_fetch btn btn-default\" href=\"#\" din=\"html.cache_fetch\"></button>\r\n              <button c=\"cache_delete btn btn-default\" href=\"#\" din=\"html.cache_delete\"></button></s></dd>\r\n          </dl></d> \r\n        </d>\r\n\r\n        <d c=\"modal_load_content\">\r\n          <p c=\"recipient\"><img src=\"${(pointer as any)[\"loading.png\"]\r\n        }\"><s din=\"html.app_loading_body\"></s></p>\r\n          <d c=\"splash_div hide row\"><p c=\"col-xs-12 poi_img\"><img c=\"splash_img\" src=\"\"></p></d> \r\n          <p><img src=\"\" height=\"0px\" width=\"0px\"></p>\r\n        </d> \r\n\r\n        <d c=\"modal_marker_list_content\">\r\n          <ul c=\"list-group\"></ul>\r\n        </d> \r\n\r\n        <p c=\"modal_gpsD_content\" c=\"recipient\"></p>\r\n        <p c=\"modal_gpsW_content\" c=\"recipient\"></p>\r\n\r\n      </d> \r\n    </d> \r\n  </d> \r\n</d> `);\r\n    for (let i = newElems.length - 1; i >= 0; i--) {\r\n        ui.core!.mapDivDocument!.insertBefore(\r\n            newElems[i],\r\n            ui.core!.mapDivDocument!.firstChild\r\n        );\r\n    }\r\n\r\n    // PWA\r\n    if (pwaManifest) {\r\n        if (pwaManifest === true) {\r\n            pwaManifest = `./pwa/${ui.core!.appid}_manifest.json`;\r\n        }\r\n        if (!pwaWorker) {\r\n            pwaWorker = \"./service-worker.js\";\r\n        }\r\n        if (!pwaScope) {\r\n            pwaScope = \"./\";\r\n        }\r\n\r\n        const head = document.querySelector(\"head\");\r\n        if (head) {\r\n            if (!head.querySelector('link[rel=\"manifest\"]')) {\r\n                head.appendChild(\r\n                    createElement(`<link rel=\"manifest\" href=\"${pwaManifest}\">`)[0]\r\n                );\r\n            }\r\n        }\r\n        try {\r\n            Weiwudi.registerSW(pwaWorker, { scope: pwaScope });\r\n        } catch (e) { } // eslint-disable-line no-empty\r\n\r\n        if (head && !head.querySelector('link[rel=\"apple-touch-icon\"]')) {\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.open(\"GET\", pwaManifest, true);\r\n            xhr.responseType = \"json\";\r\n\r\n            xhr.onload = function (_e: ProgressEvent) {\r\n                let value = this.response;\r\n                if (!value) return;\r\n                if (typeof value != \"object\") value = JSON.parse(value);\r\n\r\n                if (value.icons) {\r\n                    for (let i = 0; i < value.icons.length; i++) {\r\n                        const src = absoluteUrl(pwaManifest, value.icons[i].src);\r\n                        const sizes = value.icons[i].sizes;\r\n                        const tag = `<link rel=\"apple-touch-icon\" sizes=\"${sizes}\" href=\"${src}\">`;\r\n                        head.appendChild(createElement(tag)[0]);\r\n                    }\r\n                }\r\n            };\r\n            xhr.send();\r\n        }\r\n    }\r\n\r\n\r\n    ui.core!.addEventListener(\"uiPrepare\", (_evt: unknown) => {\r\n        const imageExtractor = function (text: string) {\r\n            const regexp = /\\$\\{([a-zA-Z0-9_\\.\\/\\-]+)\\}/g; // eslint-disable-line no-useless-escape\r\n            let ret = text;\r\n            let match;\r\n            while ((match = regexp.exec(text)) != null) {\r\n                ret = ret.replace(match[0], (pointer as Record<string, string>)[match[1]]);\r\n            }\r\n            return ret;\r\n        };\r\n        let i18nTargets = ui.core!.mapDivDocument!.querySelectorAll(\"[data-i18n], [din]\");\r\n        for (let i = 0; i < i18nTargets.length; i++) {\r\n            const target = i18nTargets[i];\r\n            const key = target.getAttribute(\"data-i18n\") || target.getAttribute(\"din\");\r\n            (target as HTMLElement).innerText = imageExtractor(ui.core!.t(key));\r\n        }\r\n        i18nTargets = ui.core!.mapDivDocument!.querySelectorAll(\"[data-i18n-html], [dinh]\");\r\n        for (let i = 0; i < i18nTargets.length; i++) {\r\n            const target = i18nTargets[i];\r\n            const key = target.getAttribute(\"data-i18n-html\") || target.getAttribute(\"dinh\");\r\n            target.innerHTML = imageExtractor(ui.core!.t(key));\r\n        }\r\n        // Explicitly fix app_loading_body with a more robust selector if needed, or re-run translation for it\r\n        const appLoadingBody = ui.core!.mapDivDocument!.querySelector('[data-i18n=\"html.app_loading_body\"], [din=\"html.app_loading_body\"]');\r\n        if (appLoadingBody) {\r\n            (appLoadingBody as HTMLElement).innerHTML = imageExtractor(ui.core!.t(\"html.app_loading_body\"));\r\n        }\r\n\r\n        const options: ControlOptions = {\r\n            reverse: true,\r\n            tipLabel: ui.core!.t(\"control.trans\", { ns: \"translation\" })\r\n        };\r\n        if (restoreTransparency) {\r\n            options.initialValue = restoreTransparency / 100;\r\n        }\r\n        ui.sliderNew = new SliderNew(options) as any;\r\n        ui.core!.appData!.controls = [\r\n            new Copyright({\r\n                tipLabel: ui.core!.t(\"control.info\", { ns: \"translation\" })\r\n            }),\r\n            new CompassRotate({\r\n                tipLabel: ui.core!.t(\"control.compass\", { ns: \"translation\" })\r\n            }),\r\n            new Zoom({\r\n                tipLabel: ui.core!.t(\"control.zoom\", { ns: \"translation\" })\r\n            }),\r\n            new SetGPS({\r\n                ui,\r\n                tipLabel: ui.core!.t(\"control.gps\", { ns: \"translation\" })\r\n            }),\r\n            new GoHome({\r\n                tipLabel: ui.core!.t(\"control.home\", { ns: \"translation\" })\r\n            }),\r\n            ui.sliderNew,\r\n            new Maplat({\r\n                tipLabel: ui.core!.t(\"control.help\", { ns: \"translation\" })\r\n            })\r\n        ];\r\n        if (ui.enableShare) {\r\n            ui.core!.appData!.controls.push(\r\n                new Share({\r\n                    tipLabel: ui.core!.t(\"control.share\", { ns: \"translation\" })\r\n                })\r\n            );\r\n        }\r\n        if (ui.enableBorder) {\r\n            ui.core!.appData!.controls.push(\r\n                new Border({\r\n                    tipLabel: ui.core!.t(\"control.border\", { ns: \"translation\" })\r\n                })\r\n            );\r\n        }\r\n        if (ui.enableHideMarker) {\r\n            ui.core!.appData!.controls.push(\r\n                new HideMarker({\r\n                    tipLabel: ui.core!.t(\"control.hide_marker\", { ns: \"translation\" })\r\n                })\r\n            );\r\n        }\r\n        if (ui.enableMarkerList) {\r\n            ui.core!.appData!.controls.push(\r\n                new MarkerList({\r\n                    tipLabel: ui.core!.t(\"control.marker_list\", { ns: \"translation\" })\r\n                })\r\n            );\r\n        }\r\n\r\n        //        });\r\n        ui.contextMenu = new ContextMenu({\r\n            eventType: \"__dummy__\",\r\n            width: 170,\r\n            defaultItems: false,\r\n            items: []\r\n        }) as unknown as ContextMenuInterface;\r\n        ui.core!.appData!.controls.push(ui.contextMenu as unknown as Control);\r\n\r\n        ui.sliderNew!.on(\"propertychange\", (evt: any) => {\r\n            if (evt.key === \"slidervalue\") {\r\n                ui.core!.setTransparency(ui.sliderNew!.get(evt.key) * 100);\r\n                ui.updateUrl();\r\n            }\r\n        });\r\n\r\n        if (enableSplash) {\r\n            // Check Splash data\r\n            let splash = false;\r\n            const appData = ui.core!.appData as unknown as { splash?: string; appName: string };\r\n            if (appData.splash) splash = true;\r\n\r\n\r\n            const modalElm = ui.core!.mapDivDocument!.querySelector(\".modalBase\")!;\r\n            const modal = new bsn.Modal(modalElm, { root: ui.core!.mapDivDocument! });\r\n            (ui.core!.mapDivDocument!.querySelector(\".modal_load_title\") as HTMLElement).innerText =\r\n                ui.core!.translate(ui.core!.appData!.appName) || \"\";\r\n            if (splash) {\r\n                ui.core!.mapDivDocument!\r\n                    .querySelector(\".splash_img\")!\r\n                    .setAttribute(\"src\", `img/${appData.splash}`);\r\n                ui.core!.mapDivDocument!\r\n                    .querySelector(\".splash_div\")!\r\n                    .classList.remove(\"hide\");\r\n            }\r\n            ui.modalSetting(\"load\");\r\n            modal.show();\r\n\r\n            const fadeTime = splash ? 1000 : 200;\r\n            ui.splashPromise = new Promise((resolve: any) => {\r\n                setTimeout(() => {\r\n\r\n                    resolve();\r\n                }, fadeTime);\r\n            });\r\n        }\r\n\r\n        document.querySelector(\"title\")!.innerHTML = ui.core!.translate(\r\n            ui.core!.appName\r\n        ) || \"\";\r\n    });\r\n\r\n\r\n    ui.core!.addEventListener(\"mapChanged\", (evt: unknown) => {\r\n        const map = (evt as CustomEvent).detail;\r\n\r\n        ui.baseSwiper!.setSlideMapID(map.mapID);\r\n        ui.overlaySwiper!.setSlideMapID(map.mapID);\r\n\r\n        const title = map.officialTitle || map.title || map.label;\r\n        (ui.core!.mapDivDocument!.querySelector(\".map-title span\") as HTMLElement).innerText =\r\n            ui.core!.translate(title) || \"\";\r\n\r\n        if (ui.checkOverlayID(map.mapID)) {\r\n            ui.sliderNew!.setEnable(true);\r\n        } else {\r\n            ui.sliderNew!.setEnable(false);\r\n        }\r\n        const transparency = ui.sliderNew!.get(\"slidervalue\") * 100;\r\n        ui.core!.mapObject.setTransparency(transparency);\r\n\r\n        ui.updateEnvelope();\r\n        ui.updateUrl();\r\n    });\r\n\r\n\r\n    ui.core!.addEventListener(\"poi_number\", (evt: unknown) => {\r\n        const number = (evt as CustomEvent).detail;\r\n        if (number) {\r\n            ui.core!.mapDivDocument!.classList.remove(\"no_poi\");\r\n        } else {\r\n            ui.core!.mapDivDocument!.classList.add(\"no_poi\");\r\n        }\r\n    });\r\n\r\n\r\n    ui.core!.addEventListener(\"outOfMap\", (_evt: unknown) => {\r\n        if (enableOutOfMap) {\r\n            (ui.core!.mapDivDocument!.querySelector(\".modal_title\") as HTMLElement).innerText =\r\n                ui.core!.t(\"app.out_of_map\") || \"\";\r\n            (ui.core!.mapDivDocument!.querySelector(\".modal_gpsD_content\") as HTMLElement).innerText =\r\n                ui.core!.t(\"app.out_of_map_area\") || \"\";\r\n            const modalElm = ui.core!.mapDivDocument!.querySelector(\".modalBase\")!;\r\n            const modal = new bsn.Modal(modalElm, { root: ui.core!.mapDivDocument! });\r\n            ui.modalSetting(\"gpsD\");\r\n            modal.show();\r\n        }\r\n    });\r\n\r\n\r\n\r\n    ui.core!.addEventListener(\"sourceLoaded\", (evt: any) => {\r\n        const sources = evt.detail as MapSource[];\r\n        const colors = [\"maroon\", \"deeppink\", \"indigo\", \"olive\", \"royalblue\", \"red\", \"hotpink\", \"green\", \"yellow\", \"navy\", \"saddlebrown\", \"fuchsia\", \"darkslategray\", \"yellowgreen\", \"blue\", \"mediumvioletred\", \"purple\", \"lime\", \"darkorange\", \"teal\", \"crimson\", \"darkviolet\", \"darkolivegreen\", \"steelblue\", \"aqua\"];\r\n        const appBbox: any[] = [];\r\n        let cIndex = 0;\r\n\r\n        for (let i = 0; i < sources.length; i++) {\r\n            const source = sources[i];\r\n            if (source.envelope) {\r\n                if (ui.appEnvelope) {\r\n                    source.envelope.geometry.coordinates[0].map((xy: any) => {\r\n                        if (appBbox.length === 0) {\r\n                            appBbox[0] = appBbox[2] = xy[0];\r\n                            appBbox[1] = appBbox[3] = xy[1];\r\n                        } else {\r\n                            if (xy[0] < appBbox[0]) appBbox[0] = xy[0];\r\n                            if (xy[0] > appBbox[2]) appBbox[2] = xy[0];\r\n                            if (xy[1] < appBbox[1]) appBbox[1] = xy[1];\r\n                            if (xy[1] > appBbox[3]) appBbox[3] = xy[1];\r\n                        }\r\n                    });\r\n                }\r\n                source.envelopeColor = colors[cIndex];\r\n                cIndex++;\r\n                if (cIndex === colors.length) cIndex = 0;\r\n\r\n                const xys = source.envelope.geometry.coordinates[0];\r\n                source.envelopeAreaIndex = ui.areaIndex(xys);\r\n            }\r\n        }\r\n        if (ui.appEnvelope) console.log(`This app's envelope is: ${appBbox}`);\r\n\r\n        if (ui.splashPromise) {\r\n            ui.splashPromise.then(() => {\r\n                const modalElm = ui.core!.mapDivDocument!.querySelector(\".modalBase\")!;\r\n                const modal = bsn.Modal.getInstance(modalElm) || new bsn.Modal(modalElm, { root: ui.core!.mapDivDocument! });\r\n                ui.modalSetting(\"load\");\r\n                modal.hide();\r\n            });\r\n        }\r\n\r\n        const baseSources: any[] = [];\r\n        const overlaySources: any[] = [];\r\n        for (let i = 0; i < sources.length; i++) {\r\n            const source = sources[i];\r\n            if (isBasemap(source)) {\r\n                baseSources.push(source);\r\n            } else {\r\n                overlaySources.push(source);\r\n            }\r\n        }\r\n\r\n        const baseSwiper = (ui.baseSwiper = new Swiper(\".base-swiper\", {\r\n            slidesPerView: 2,\r\n            spaceBetween: 15,\r\n            breakpoints: {\r\n                480: {\r\n                    slidesPerView: 1.4,\r\n                    spaceBetween: 10\r\n                }\r\n            },\r\n            centeredSlides: true,\r\n            threshold: 2,\r\n            preventClicks: true,\r\n            preventClicksPropagation: true,\r\n            observer: true,\r\n            observeParents: true,\r\n            loop: baseSources.length >= 2,\r\n            navigation: {\r\n                nextEl: \".base-next\",\r\n                prevEl: \".base-prev\"\r\n            }\r\n        }));\r\n        baseSwiper.on(\"click\", (_e: any) => {\r\n            if (!baseSwiper.clickedSlide) return;\r\n            const slide = baseSwiper.clickedSlide;\r\n            ui.core!.changeMap(slide.getAttribute(\"data\")!);\r\n            delete ui._selectCandidateSources;\r\n            baseSwiper.setSlideIndexAsSelected(\r\n                parseInt(slide.getAttribute(\"data-swiper-slide-index\") || \"0\", 10)\r\n            );\r\n        });\r\n        if (baseSources.length < 2) {\r\n            ui.core!.mapDivDocument!.querySelector(\".base-swiper\")!.classList.add(\"single-map\");\r\n        }\r\n\r\n        const overlaySwiper = (ui.overlaySwiper = new Swiper(\".overlay-swiper\", {\r\n            slidesPerView: 2,\r\n            spaceBetween: 15,\r\n            breakpoints: {\r\n                480: {\r\n                    slidesPerView: 1.4,\r\n                    spaceBetween: 10\r\n                }\r\n            },\r\n            centeredSlides: true,\r\n            threshold: 2,\r\n            preventClicks: true,\r\n            preventClicksPropagation: true,\r\n            observer: true,\r\n            observeParents: true,\r\n            loop: overlaySources.length >= 2,\r\n            navigation: {\r\n                nextEl: \".overlay-next\",\r\n                prevEl: \".overlay-prev\"\r\n            }\r\n        }));\r\n        overlaySwiper.on(\"click\", (_e: any) => {\r\n            if (!overlaySwiper.clickedSlide) return;\r\n            const slide = overlaySwiper.clickedSlide;\r\n            ui.core!.changeMap(slide.getAttribute(\"data\")!);\r\n            delete ui._selectCandidateSources;\r\n            overlaySwiper.setSlideIndexAsSelected(\r\n                parseInt(slide.getAttribute(\"data-swiper-slide-index\") || \"0\", 10)\r\n            );\r\n        });\r\n        if (overlaySources.length < 2) {\r\n            ui.core!.mapDivDocument!.querySelector(\".overlay-swiper\")!.classList.add(\"single-map\");\r\n        }\r\n\r\n        for (let i = 0; i < baseSources.length; i++) {\r\n            const source = baseSources[i];\r\n            const thumbKey = source.thumbnail ? source.thumbnail.split('/').pop() : \"\";\r\n            const thumbUrl = (pointer as any)[thumbKey] || source.thumbnail;\r\n            baseSwiper.appendSlide(\r\n                `<div class=\"swiper-slide\" data=\"${source.mapID}\">` +\r\n                `<img crossorigin=\"anonymous\" src=\"${thumbUrl\r\n                }\"><div> ${ui.core!.translate(source.label)}</div> </div> `\r\n            );\r\n        }\r\n        for (let i = 0; i < overlaySources.length; i++) {\r\n            const source = overlaySources[i];\r\n            const colorCss = source.envelope ? ` ${source.envelopeColor}` : \"\";\r\n            const thumbKey = source.thumbnail ? source.thumbnail.split('/').pop() : \"\";\r\n            const thumbUrl = (pointer as any)[thumbKey] || source.thumbnail;\r\n            overlaySwiper.appendSlide(\r\n                `<div class=\"swiper-slide${colorCss}\" data=\"${source.mapID}\">` +\r\n                `<img crossorigin=\"anonymous\" src=\"${thumbUrl\r\n                }\"><div> ${ui.core!.translate(source.label)}</div> </div> `\r\n            );\r\n        }\r\n\r\n        overlaySwiper.on(\"slideChange\", () => {\r\n            ui.updateEnvelope();\r\n        });\r\n\r\n        baseSwiper.slideToLoop(0);\r\n        overlaySwiper.slideToLoop(0);\r\n        ellips(ui.core!.mapDivDocument!);\r\n    });\r\n\r\n    ui.core!.waitReady.then(() => {\r\n        // Capture pointerdown at viewport level to ensure we get pixel before any stopPropagation\r\n        ui.core!.mapObject.getViewport().addEventListener(\"pointerdown\", (evt: any) => {\r\n            ui.lastClickPixel = ui.core!.mapObject.getEventPixel(evt);\r\n            ui.lastClickCoordinate = ui.core!.mapObject.getCoordinateFromPixel(ui.lastClickPixel);\r\n        }, true);\r\n    });\r\n\r\n    ui.core!.addEventListener(\"clickMarkers\", (evt: any) => {\r\n        const data = evt.detail as MarkerData[];\r\n        if (data.length === 1) {\r\n            ui.handleMarkerAction(data[0]);\r\n        } else {\r\n            const list: any[] = [];\r\n            data.forEach((datum: any) => {\r\n                list.push({\r\n                    icon: datum.icon || (pointer as any)[\"defaultpin.png\"],\r\n                    text: ui.core!.translate(datum.name),\r\n                    callback: () => {\r\n                        ui.handleMarkerAction(datum);\r\n                    }\r\n                });\r\n            });\r\n            ui.showContextMenu(list);\r\n        }\r\n    });\r\n\r\n    ui.core!.waitReady.then(() => {\r\n        ui.core!.mapObject.on(\"click_control\", (evt: any) => {\r\n            const control = evt.control || (evt.frameState && evt.frameState.control);\r\n            const modalElm = ui.core!.mapDivDocument!.querySelector(\".modalBase\")!;\r\n            const modal = bsn.Modal.getInstance(modalElm) || new bsn.Modal(modalElm);\r\n\r\n            const closeBtns = modalElm.querySelectorAll(\".close, .modal-footer button\");\r\n            for (let i = 0; i < closeBtns.length; i++) {\r\n                closeBtns[i].addEventListener(\"click\", () => {\r\n                    modal.hide();\r\n                });\r\n            }\r\n\r\n            if (control === \"help\") {\r\n                ui.modalSetting(\"help\");\r\n                modal.show();\r\n            } else if (control === \"share\") {\r\n                ui.modalSetting(\"share\");\r\n\r\n                const modalBody = modalElm.querySelector(\".modal-body\") as HTMLElement;\r\n\r\n                const baseUrl = ui.getShareUrl(\"app\");\r\n                const viewUrl = ui.getShareUrl(\"view\");\r\n\r\n                // Generate QR Codes\r\n                const qrAppDiv = modalBody.querySelector(\".qr_app\") as HTMLElement;\r\n                const qrViewDiv = modalBody.querySelector(\".qr_view\") as HTMLElement;\r\n\r\n                if (qrAppDiv) {\r\n                    QRCode.toCanvas(baseUrl, { width: 128, margin: 1 }, (err: any, canvas: any) => {\r\n                        if (!err) {\r\n                            qrAppDiv.innerHTML = \"\";\r\n                            qrAppDiv.appendChild(canvas);\r\n                        }\r\n                    });\r\n                }\r\n                if (qrViewDiv) {\r\n                    QRCode.toCanvas(viewUrl, { width: 128, margin: 1 }, (err: any, canvas: any) => {\r\n                        if (!err) {\r\n                            qrViewDiv.innerHTML = \"\";\r\n                            qrViewDiv.appendChild(canvas);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                modal.show();\r\n            } else if (control === \"markerList\") {\r\n                ui.modalSetting(\"marker_list\");\r\n                modal.show();\r\n\r\n                const listRoot = modalElm.querySelector(\".modal_marker_list_content ul.list-group\") as HTMLElement;\r\n                listRoot.innerHTML = \"\";\r\n\r\n                const layers = ui.core!.listPoiLayers(false, true);\r\n\r\n                layers.forEach((layer: any) => {\r\n                    // Create Layer Item\r\n                    const layerLi = createElement(`<li class=\"list-group-item layer\">\r\n                        <div class=\"row layer_row\">\r\n                           <div class=\"layer_label\">\r\n                              <span class=\"dli-chevron\"></span>\r\n                              <img src=\"${layer.icon || (pointer as any)[\"defaultpin.png\"]}\" class=\"markerlist\"> ${ui.core!.translate(layer.name)}\r\n                           </div>\r\n                           <div class=\"layer_onoff\">\r\n                              <input type=\"checkbox\" class=\"markerlist\" ${layer.hide ? \"\" : \"checked\"}>\r\n                              <label class=\"check\"><div></div></label>\r\n                           </div>\r\n                        </div>\r\n                    </li>`)[0] as HTMLElement;\r\n\r\n                    const checkbox = layerLi.querySelector(\"input[type=checkbox]\") as HTMLInputElement;\r\n                    const label = layerLi.querySelector(\"label.check\") as HTMLElement;\r\n\r\n                    label.addEventListener(\"click\", e => {\r\n                        e.stopPropagation();\r\n                        if (!checkbox.disabled) {\r\n                            checkbox.checked = !checkbox.checked;\r\n                            checkbox.dispatchEvent(new Event('change'));\r\n                        }\r\n                    });\r\n\r\n                    checkbox.addEventListener(\"click\", e => e.stopPropagation());\r\n\r\n                    checkbox.addEventListener(\"change\", (e: any) => {\r\n                        if (e.target.checked) {\r\n                            ui.core!.showPoiLayer(layer.id);\r\n                        } else {\r\n                            ui.core!.hidePoiLayer(layer.id);\r\n                        }\r\n                    });\r\n\r\n                    const poiListUl = createElement(`<ul class=\"list_poiitems_div\"></ul>`)[0] as HTMLElement;\r\n\r\n                    layerLi.querySelector(\".layer_label\")!.addEventListener(\"click\", () => {\r\n                        poiListUl.classList.toggle(\"open\");\r\n                    });\r\n\r\n                    listRoot.appendChild(layerLi);\r\n                    listRoot.appendChild(poiListUl);\r\n\r\n                    if (layer.pois) {\r\n                        layer.pois.forEach((poi: any) => {\r\n                            const poiLi = createElement(`<li class=\"list-group-item poi\">\r\n                                <div class=\"row poi_row\">\r\n                                   <div class=\"poi_label\">\r\n                                      <span class=\"dli-chevron\"></span>\r\n                                      <img src=\"${poi.icon || layer.icon || (pointer as any)[\"defaultpin.png\"]}\" class=\"markerlist\"> ${ui.core!.translate(poi.name)}\r\n                                   </div>\r\n                                </div>\r\n                            </li>`)[0] as HTMLElement;\r\n\r\n                            const poiContentDiv = createElement(`<div class=\"list_poicontent_div\"></div>`)[0] as HTMLElement;\r\n\r\n                            let poiImgHide: any;\r\n\r\n                            poiLi.addEventListener(\"click\", () => {\r\n                                if (!poiContentDiv.classList.contains(\"open\")) {\r\n                                    poiContentDiv.classList.add(\"open\");\r\n\r\n                                    const funcs = poiWebControl(ui, poiContentDiv, poi);\r\n                                    if (funcs) {\r\n                                        const [showFunc, hideFunc] = funcs;\r\n                                        poiImgHide = hideFunc;\r\n                                        if (showFunc) showFunc();\r\n                                    }\r\n\r\n                                    ui.core!.selectMarker?.(poi.namespaceID);\r\n                                } else {\r\n                                    poiContentDiv.classList.remove(\"open\");\r\n\r\n                                    if (poiImgHide) poiImgHide();\r\n                                    poiContentDiv.innerHTML = \"\";\r\n                                    ui.core!.unselectMarker?.();\r\n                                }\r\n                            });\r\n\r\n                            poiListUl.appendChild(poiLi);\r\n                            poiListUl.appendChild(poiContentDiv);\r\n                        });\r\n                    }\r\n                });\r\n            } else if (control === \"copyright\") {\r\n                ui.modalSetting(\"map\");\r\n                const mapData = ui.core!.from!;\r\n                const modalRoot = ui.core!.mapDivDocument!;\r\n                const titleEl = modalRoot.querySelector(\".modal_map .modal_title\");\r\n                if (titleEl) {\r\n                    const titleVal = (mapData as any).get ? (mapData as any).get('title') : (mapData as any).title;\r\n                    (titleEl as HTMLElement).innerText = ui.core!.translate(titleVal) || \"\";\r\n                }\r\n\r\n                META_KEYS.forEach(key => {\r\n                    if (key === 'title' || key === 'officialTitle') return;\r\n                    const val = (mapData as any).get ? (mapData as any).get(key) : (mapData as any)[key];\r\n                    const container = modalRoot.querySelector(`.modal_map .${key}_div`);\r\n                    if (container) {\r\n                        if (val) {\r\n                            (container as HTMLElement).style.display = \"block\";\r\n                            const contentEl = container.querySelector(`.${key}_dd`);\r\n                            if (contentEl) {\r\n                                if (key === 'license' || key === 'dataLicense') {\r\n                                    const fileName = (val as string).toLowerCase().replace(/ /g, '_');\r\n                                    (contentEl as HTMLElement).innerHTML = `<img src=\"assets/parts/${fileName}.png\" class=\"license\" />`;\r\n                                } else {\r\n                                    (contentEl as HTMLElement).innerHTML = ui.core!.translate(val) || \"\";\r\n                                }\r\n                            }\r\n                        } else {\r\n                            (container as HTMLElement).style.display = \"none\";\r\n                        }\r\n                    }\r\n                });\r\n                modal.show();\r\n            } else if (control === \"border\") {\r\n                ui.setShowBorder(!(ui.core!.stateBuffer as any).showBorder);\r\n            } else if (control === \"hideMarker\") {\r\n                const current = ui.core!.mapDivDocument!.classList.contains(\"hide-marker\");\r\n                ui.setHideMarker(!current);\r\n            }\r\n            ui.updateUrl();\r\n        });\r\n        ui.core!.mapObject.on(\"moveend\", (_evt: any) => {\r\n            ui.updateUrl();\r\n        });\r\n    });\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\ui_marker.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":80,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3970,3973],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3970,3973],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":259,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":259,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11660,11663],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11660,11663],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":260,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":260,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11755,11758],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11755,11758],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":263,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":263,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11946,11949],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11946,11949],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":269,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":269,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12152,12155],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12152,12155],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":302,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":302,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13667,13670],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13667,13670],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":304,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":304,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13715,13718],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13715,13718],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":305,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":305,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13763,13766],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13763,13766],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":309,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":309,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13900,13903],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13900,13903],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":310,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":310,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13948,13951],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13948,13951],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":314,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":314,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14093,14096],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14093,14096],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":315,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":315,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14170,14173],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14170,14173],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":12,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { createElement } from \"@maplat/core\";\r\nimport * as bsn from \"bootstrap.native\";\r\nimport { Swiper } from \"./swiper_ex\";\r\nimport { point, polygon, booleanPointInPolygon } from '@turf/turf';\r\nimport { resolveRelativeLink } from \"./ui_utils\";\r\nimport type { MaplatUi } from \"./index\";\r\nimport type { MarkerData, MapSource } from \"./types\";\r\n\r\n\r\nexport function poiWebControl(ui: MaplatUi, div: HTMLElement, data: MarkerData & { url?: string; html?: string }) {\r\n    let imgShowFunc: ((e?: Event) => void) | undefined;\r\n    let imgHideFunc: ((e?: Event) => void) | undefined;\r\n    let poiSwiper: Swiper | undefined;\r\n    div.innerHTML = '';\r\n\r\n    if (data.url || data.html) {\r\n        const htmlDiv = createElement(`<div class=\"${ui.enablePoiHtmlNoScroll ? \"\" : \" embed-responsive embed-responsive-60vh\"}\">\r\n    <iframe class=\"poi_iframe iframe_poi\" frameborder=\"0\" src=\"\"${ui.enablePoiHtmlNoScroll ? ` onload=\"window.addEventListener('message', (e) =>{if (e.data[0] == 'setHeight') {this.style.height = e.data[1];}});\" scrolling=\"no\"` : \"\"}></iframe>\r\n    </div>`)[0] as HTMLElement;\r\n        div.appendChild(htmlDiv);\r\n        const iframe = htmlDiv.querySelector(\".poi_iframe\") as HTMLIFrameElement;\r\n\r\n        if (data.html) {\r\n            const loadEvent = (event: Event) => {\r\n                (event.currentTarget as HTMLElement).removeEventListener(event.type, loadEvent);\r\n                const cssLink = createElement(\r\n                    '<style type=\"text/css\">html, body { height: 100vh; }\\n img { width: 100%; }</style>'\r\n                );\r\n                const jsLink = createElement(\r\n                    `<script>\r\n                const heightGetter = document.querySelector(\"#heightGetter\");\r\n                const resizeObserver = new ResizeObserver(entries => {\r\n                  window.parent.postMessage([\"setHeight\", (entries[0].target.clientHeight + 16) + \"px\"], \"*\");\r\n                });\r\n                if(heightGetter) resizeObserver.observe(heightGetter);\r\n              </script>`\r\n                );\r\n                iframe.contentDocument!.head.appendChild(cssLink[0]);\r\n                iframe.contentDocument!.head.appendChild(jsLink[0]);\r\n            };\r\n            iframe.addEventListener(\"load\", loadEvent);\r\n            iframe.removeAttribute(\"src\");\r\n            iframe.setAttribute(\r\n                \"srcdoc\",\r\n                `<div id=\"heightGetter\">${ui.core!.translate(data.html) || \"\"}</div>`\r\n            );\r\n        } else {\r\n            iframe.removeAttribute(\"srcdoc\");\r\n            iframe.setAttribute(\"src\", ui.core!.translate(data.url) || \"\");\r\n        }\r\n    } else {\r\n        const htmlDiv = createElement(`<div class=\"poi_data\">\r\n    <div class=\"col-xs-12 swiper-container poi_img_swiper\">\r\n      <div class=\"swiper-wrapper\"></div>\r\n      <div class=\"swiper-pagination poi-pagination\"></div>\r\n      <div class=\"swiper-button-next poi-img-next\"></div>\r\n      <div class=\"swiper-button-prev poi-img-prev\"></div>\r\n    </div>\r\n    <p class=\"recipient poi_address\"></p>\r\n    <p class=\"recipient poi_desc\"></p>\r\n    </div>`)[0] as HTMLElement;\r\n        div.appendChild(htmlDiv);\r\n\r\n        const slides: string[] = [];\r\n        if (data.image && data.image !== \"\") {\r\n            const images = Array.isArray(data.image) ? data.image : [data.image];\r\n            images.forEach((image: string | { src: string; desc?: string }) => {\r\n                if (typeof image === \"string\") {\r\n                    image = { src: image };\r\n                }\r\n                const tmpImg = resolveRelativeLink(image.src, \"img\");\r\n                let slide = `<a target=\"_blank\" href=\"${tmpImg}\"><img src=\"${tmpImg}\"></a>`;\r\n                if (image.desc) slide = `${slide}<div>${image.desc}</div>`;\r\n                slides.push(`<div class=\"swiper-slide\">${slide}</div>`);\r\n            });\r\n        }\r\n        // Logic for noimage skipped/simplified as requested in previous interactions\r\n\r\n        imgShowFunc = (_event?: any) => {\r\n            const swiperDiv = htmlDiv.querySelector(\".swiper-container.poi_img_swiper\") as HTMLElement;\r\n            if (slides.length === 0) {\r\n                swiperDiv.classList.add(\"hide\");\r\n            } else {\r\n                swiperDiv.classList.remove(\"hide\");\r\n\r\n                // Ensure unique classes for multiple swipers if needed, but scoping to div helps\r\n                // Actually legacy uses new Swiper(swiperDiv...) so element reference is fine\r\n\r\n                // Inject custom CSS for Swiper if not exists (global check)\r\n                if (!document.getElementById(\"poi-swiper-style\")) {\r\n                    const style = document.createElement(\"style\");\r\n                    style.id = \"poi-swiper-style\";\r\n                    style.innerHTML = `\r\n                .poi_img_swiper { --swiper-theme-color: #007aff; }\r\n                .poi_img_swiper .swiper-button-next, .poi_img_swiper .swiper-button-prev { color: #007aff !important; }\r\n                .poi_img_swiper .swiper-button-disabled { opacity: 0.35 !important; filter: blur(2px) !important; color: #007aff !important; pointer-events: none; }\r\n                .poi_img_swiper .swiper-pagination-bullet { background: #007aff !important; opacity: 0.4 !important; filter: blur(1px); }\r\n                .poi_img_swiper .swiper-pagination-bullet-active { opacity: 1 !important; filter: none !important; }\r\n              `;\r\n                    document.head.appendChild(style);\r\n                }\r\n\r\n                poiSwiper = new Swiper(swiperDiv, {\r\n                    lazy: true,\r\n                    pagination: {\r\n                        el: htmlDiv.querySelector(\".poi-pagination\") as HTMLElement,\r\n                        clickable: true\r\n                    },\r\n                    navigation: {\r\n                        nextEl: htmlDiv.querySelector(\".poi-img-next\") as HTMLElement,\r\n                        prevEl: htmlDiv.querySelector(\".poi-img-prev\") as HTMLElement\r\n                    },\r\n                    observer: true,\r\n                    observeParents: true\r\n                });\r\n                slides.forEach(slide => poiSwiper!.appendSlide(slide));\r\n            }\r\n        };\r\n\r\n        imgHideFunc = () => {\r\n            if (poiSwiper) {\r\n                poiSwiper.destroy(true, true);\r\n                poiSwiper = undefined;\r\n            }\r\n        };\r\n\r\n        (htmlDiv.querySelector(\".poi_address\") as HTMLElement).innerText = ui.core!.translate(data.address) || \"\";\r\n        (htmlDiv.querySelector(\".poi_desc\") as HTMLElement).innerHTML = (ui.core!.translate(data.desc) || \"\").replace(/\\n/g, \"<br>\");\r\n    }\r\n\r\n    return imgShowFunc ? [imgShowFunc, imgHideFunc] : undefined;\r\n}\r\n\r\nexport function handleMarkerAction(ui: MaplatUi, data: MarkerData & { directgo?: string | { href: string; blank?: boolean }, namespaceID?: string, name?: string }) {\r\n    const modalElm = ui.core!.mapDivDocument!.querySelector(\".modalBase\")!;\r\n    const modal = bsn.Modal.getInstance(modalElm) || new bsn.Modal(modalElm);\r\n\r\n    const closeBtns = modalElm.querySelectorAll(\".close, .modal-footer button\");\r\n    for (let i = 0; i < closeBtns.length; i++) {\r\n        closeBtns[i].addEventListener(\"click\", () => {\r\n            modal.hide();\r\n        });\r\n    }\r\n\r\n    if (data.directgo) {\r\n        let blank = false;\r\n        let href = \"\";\r\n        if (typeof data.directgo == \"string\") {\r\n            href = data.directgo;\r\n        } else {\r\n            href = data.directgo.href;\r\n            blank = data.directgo.blank || false;\r\n        }\r\n        if (blank) {\r\n            window.open(href, \"_blank\");\r\n        } else {\r\n            window.location.href = href;\r\n        }\r\n        return;\r\n    }\r\n\r\n    const titleEl = ui.core!.mapDivDocument!.querySelector(\".modal_poi_title\") || ui.core!.mapDivDocument!.querySelector(\".modal_title\");\r\n    if (titleEl) (titleEl as HTMLElement).innerText = ui.core!.translate(data.name) || \"\";\r\n\r\n    // Prepare container - ensure poi_web_div exists or target it\r\n    let poiWebDiv = ui.core!.mapDivDocument!.querySelector(\".poi_web_div\") as HTMLElement | null;\r\n    if (!poiWebDiv) {\r\n        // Fallback or create? simpler to assume ui_init will be updated, \r\n        // but for robustness we can clear modal_poi_content and append it if missing, \r\n        // OR target existing .poi_web (renaming it effectively).\r\n        // Let's assume ui_init.ts will provide .poi_web_div. \r\n        // If not present, we grab .modal_poi_content and insert it?\r\n        const modalPoiContent = ui.core!.mapDivDocument!.querySelector(\".modal_poi_content\");\r\n        if (modalPoiContent) {\r\n            poiWebDiv = createElement('<div class=\"poi_web_div\"></div>')[0] as HTMLElement;\r\n            // Prepend to avoid messing with share buttons at bottom?\r\n            modalPoiContent.insertBefore(poiWebDiv as Node, modalPoiContent.firstChild);\r\n        }\r\n    }\r\n\r\n    const poiImgFunc = poiWebDiv ? poiWebControl(ui, poiWebDiv, data) : undefined;\r\n\r\n    if (poiImgFunc) {\r\n        const poiImgShow = poiImgFunc[0], poiImgHide = poiImgFunc[1];\r\n        const poiImgShowWrap = () => {\r\n            modalElm.removeEventListener(\"shown.bs.modal\", poiImgShowWrap, false);\r\n            if (poiImgShow) poiImgShow();\r\n        };\r\n        modalElm.addEventListener(\"shown.bs.modal\", poiImgShowWrap, false);\r\n\r\n        const hiddenFunc = (_event: Event) => {\r\n            modalElm.removeEventListener(\"hidden.bs.modal\", hiddenFunc, false);\r\n            if (poiImgHide) poiImgHide();\r\n            ui.core!.unselectMarker();\r\n        };\r\n        modalElm.addEventListener(\"hidden.bs.modal\", hiddenFunc, false);\r\n    } else {\r\n        const hiddenFunc = (_event: Event) => {\r\n            modalElm.removeEventListener(\"hidden.bs.modal\", hiddenFunc, false);\r\n            ui.core!.unselectMarker();\r\n        };\r\n        modalElm.addEventListener(\"hidden.bs.modal\", hiddenFunc, false);\r\n    }\r\n\r\n    ui.core!.selectMarker(data.namespaceID);\r\n    ui.modalSetting(\"poi\");\r\n    modal.show();\r\n}\r\n\r\nexport function showContextMenu(ui: MaplatUi, list: MarkerData[]) {\r\n    if (!ui.contextMenu) return;\r\n\r\n    ui.contextMenu.clear();\r\n    ui.contextMenu.extend(list);\r\n\r\n    const pixel = ui.lastClickPixel;\r\n    const coordinate = ui.lastClickCoordinate;\r\n\r\n    if (!pixel) {\r\n        console.warn(\"[Debug] No lastClickPixel for ContextMenu\");\r\n        return;\r\n    }\r\n\r\n    const openHandler = () => {\r\n        ui.contextMenu?.un(\"open\", openHandler);\r\n        const closeHandler = () => {\r\n            ui.contextMenu?.un(\"close\", closeHandler);\r\n        };\r\n        ui.contextMenu?.on(\"close\", closeHandler);\r\n    };\r\n    if (ui.contextMenu) {\r\n        ui.contextMenu.on(\"open\", openHandler);\r\n\r\n        // Need direct access to internal openMenu if possible, or standard open\r\n        if (pixel && coordinate) {\r\n            ui.contextMenu.Internal?.openMenu(pixel, coordinate);\r\n        }\r\n    }\r\n\r\n    // One-time click to close (mimic legacy)\r\n    const viewport = ui.core!.mapObject.getViewport();\r\n    const closeMenuHandler = (e: Event) => {\r\n        if (ui.contextMenu && ui.contextMenu.Internal?.opened) {\r\n            ui.contextMenu.Internal?.closeMenu();\r\n            e.stopPropagation();\r\n            viewport.removeEventListener(e.type, closeMenuHandler, false);\r\n        }\r\n    };\r\n    viewport.addEventListener(\"pointerdown\", closeMenuHandler, false);\r\n}\r\n\r\nexport async function xyToMapIDs(ui: MaplatUi, xy: number[], threshold = 10) {\r\n    const point_ = point(xy);\r\n\r\n    const map = ui.core!.mapObject;\r\n    const size = map.getSize();\r\n    const extent = [[0, 0], [size[0], 0], size, [0, size[1]], [0, 0]];\r\n    const sysCoords = extent.map((pixel: any) => map.getCoordinateFromPixel(pixel));\r\n    const mercs = await (typeof (ui.core!.from as any).xy2SysCoord !== 'function' // ERROR HERE - wait, index.ts line 1273 - checking source\r\n        ? Promise.resolve(sysCoords)\r\n        : Promise.all(\r\n            sysCoords.map((sysCoord: any) => ui.core!.from!.sysCoord2MercAsync(sysCoord))\r\n        ));\r\n    const areaIndex = ui.areaIndex(mercs);\r\n\r\n    return Promise.all(\r\n        Object.keys(ui.core!.cacheHash!)\r\n            .filter((key: any) => ui.core!.cacheHash[key].envelope)\r\n            .map((key: string) => {\r\n                const source = ui.core!.cacheHash[key] as MapSource;\r\n                return Promise.all([\r\n                    Promise.resolve(source),\r\n                    Promise.all(\r\n                        source.envelope!.geometry.coordinates[0].map((coord: number[]) =>\r\n                            ui.core!.from!.merc2SysCoordAsync(coord)\r\n                        )\r\n                    )\r\n                ]);\r\n            })\r\n    ).then((sources: [MapSource, number[][]][]) => {\r\n        const mapIDs = sources\r\n            .reduce((prev: MapSource[], curr: [MapSource, number[][]]) => {\r\n                const source = curr[0];\r\n                const mercXys = curr[1];\r\n                if (source.mapID !== ui.core!.from!.mapID) {\r\n                    const polygon_ = polygon([mercXys]);\r\n                    if (booleanPointInPolygon(point_, polygon_)) {\r\n                        prev.push(source);\r\n                    }\r\n                }\r\n                return prev;\r\n            }, [])\r\n            .filter((source: MapSource) => (source.envelopeAreaIndex || 0) / areaIndex < threshold)\r\n            .sort((a: MapSource, b: MapSource) => (a.envelopeAreaIndex || 0) - (b.envelopeAreaIndex || 0))\r\n            .map((source: MapSource) => source.mapID);\r\n        return mapIDs;\r\n    });\r\n}\r\n\r\nexport function setHideMarker(ui: MaplatUi, flag: boolean) {\r\n    ui.core!.requestUpdateState({ hideMarker: flag ? 1 : 0 } as any);\r\n    if (flag) {\r\n        if ((ui.core as any).hideAllMarkers) {\r\n            (ui.core as any).hideAllMarkers();\r\n        }\r\n        ui.core!.mapDivDocument!.classList.add(\"hide-marker\");\r\n    } else {\r\n        if ((ui.core as any).showAllMarkers) {\r\n            (ui.core as any).showAllMarkers();\r\n        }\r\n        ui.core!.mapDivDocument!.classList.remove(\"hide-marker\");\r\n    }\r\n    if ((ui.core!.restoreSession as any)) {\r\n        ui.core!.requestUpdateState({ hideMarker: flag ? 1 : 0 } as any);\r\n    }\r\n}\r\n\r\nexport function checkOverlayID(ui: MaplatUi, mapID: string) {\r\n    const swiper = ui.overlaySwiper;\r\n    if (!swiper) return false;\r\n    const sliders = swiper.$el[0].querySelectorAll(\".swiper-slide\");\r\n    for (let i = 0; i < sliders.length; i++) {\r\n        const slider = sliders[i];\r\n        if (slider.getAttribute(\"data\") === mapID) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nexport function handleMarkerActionById(_ui: MaplatUi, markerId: string) {\r\n    console.log(`Open marker: ${markerId}`);\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]},{"filePath":"C:\\Users\\kochi\\github\\Maplat\\src\\ui_utils.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":70,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2580,2583],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2580,2583],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nexport function resolveRelativeLink(file: string, fallbackPath: string | null): string {\r\n    if (!fallbackPath) fallbackPath = \".\";\r\n    return file.match(/\\//) ? file : `${fallbackPath}/${file}`;\r\n}\r\n\r\nexport function ellips(mapDivDocument: HTMLElement) {\r\n    const omitMark = \"\";\r\n    const omitLine = 2;\r\n    const stringSplit = function (element: HTMLElement) {\r\n        const splitArr = element.innerText.split(\"\");\r\n        let joinString = \"\";\r\n        for (let i = 0; i < splitArr.length; i++) {\r\n            joinString += `<span>${splitArr[i]}</span>`;\r\n        }\r\n        joinString += `<span class=\"omit-mark\">${omitMark}</span>`;\r\n        element.innerHTML = joinString;\r\n    };\r\n    const omitCheck = function (element: HTMLElement) {\r\n        const thisSpan = element.querySelectorAll(\"span\");\r\n        const omitSpan = element.querySelector(\".omit-mark\") as HTMLElement;\r\n        let lineCount = 0;\r\n        let omitCount = 0;\r\n\r\n        if (omitLine <= 0) {\r\n            return;\r\n        }\r\n\r\n        thisSpan[0].style.display = \"\";\r\n        for (let i = 1; i < thisSpan.length; i++) {\r\n            thisSpan[i].style.display = \"none\";\r\n        }\r\n        omitSpan.style.display = \"\";\r\n        let divHeight = element.offsetHeight;\r\n        let minimizeFont = false;\r\n        for (let i = 1; i < thisSpan.length - 1; i++) {\r\n            thisSpan[i].style.display = \"\";\r\n            if (element.offsetHeight > divHeight) {\r\n                if (!minimizeFont) {\r\n                    minimizeFont = true;\r\n                    element.classList.add(\"minimize\");\r\n                } else {\r\n                    divHeight = element.offsetHeight;\r\n                    lineCount++;\r\n                }\r\n            }\r\n            if (lineCount >= omitLine) {\r\n                omitCount = i - 2;\r\n                break;\r\n            }\r\n            if (i >= thisSpan.length - 2) {\r\n                omitSpan.style.display = \"none\";\r\n                return;\r\n            }\r\n        }\r\n        for (let i = omitCount; i < thisSpan.length - 1; i++) {\r\n            thisSpan[i].style.display = \"none\";\r\n        }\r\n    };\r\n    const swiperItems =\r\n        mapDivDocument.querySelectorAll(\".swiper-slide div\");\r\n    for (let i = 0; i < swiperItems.length; i++) {\r\n        const swiperItem = swiperItems[i] as HTMLElement;\r\n        stringSplit(swiperItem);\r\n        omitCheck(swiperItem);\r\n    }\r\n}\r\n\r\nexport function isMaplatSource(source: unknown): source is { setGPSMarkerAsync: () => unknown; constructor: { isBasemap_?: boolean } } {\r\n    return !!source && typeof (source as any).setGPSMarkerAsync === 'function';\r\n}\r\n\r\nexport function isBasemap(source: unknown): boolean {\r\n    if (!isMaplatSource(source)) return false;\r\n    if (source.constructor && source.constructor.isBasemap_ === false) return false;\r\n    if (source.constructor && source.constructor.isBasemap_ === true) return true;\r\n    return true;\r\n}\r\n\r\n","usedDeprecatedRules":[{"ruleId":"arrow-parens","replacedBy":["@stylistic/arrow-parens"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-parens","url":"https://eslint.style/rules/arrow-parens"}}]}},{"ruleId":"arrow-spacing","replacedBy":["@stylistic/arrow-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"arrow-spacing","url":"https://eslint.style/rules/arrow-spacing"}}]}},{"ruleId":"generator-star-spacing","replacedBy":["@stylistic/generator-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"generator-star-spacing","url":"https://eslint.style/rules/generator-star-spacing"}}]}},{"ruleId":"rest-spread-spacing","replacedBy":["@stylistic/rest-spread-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"rest-spread-spacing","url":"https://eslint.style/rules/rest-spread-spacing"}}]}},{"ruleId":"template-curly-spacing","replacedBy":["@stylistic/template-curly-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"template-curly-spacing","url":"https://eslint.style/rules/template-curly-spacing"}}]}},{"ruleId":"yield-star-spacing","replacedBy":["@stylistic/yield-star-spacing"],"info":{"message":"Formatting rules are being moved out of ESLint core.","url":"https://eslint.org/blog/2023/10/deprecating-formatting-rules/","deprecatedSince":"8.53.0","availableUntil":"11.0.0","replacedBy":[{"message":"ESLint Stylistic now maintains deprecated stylistic core rules.","url":"https://eslint.style/guide/migration","plugin":{"name":"@stylistic/eslint-plugin","url":"https://eslint.style"},"rule":{"name":"yield-star-spacing","url":"https://eslint.style/rules/yield-star-spacing"}}]}}]}]